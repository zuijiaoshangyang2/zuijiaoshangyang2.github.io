<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é—²ç½®VPSåˆ©ç”¨â€”â€”Docker-composeæ­å»ºPrivateBinï¼Œä¸€ä¸ªåŠ å¯†çš„å‰ªè´´æ¿ | äº‘åŒ¿åšå®¢</title>
    <meta name="generator" content="VuePress 1.5.2">
    <script async="true" data-website-id="5c55dcab-115e-4cca-a26c-eca2276dfe02" src="https://tj.naaa.top/script.js"></script>
    <script data-ad-client="ca-pub-5818850638223663" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <link rel="icon" href="/mylogo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/mylogo.png">
    <link rel="mask-icon" href="/mylogo.png" color="#3eaf7c">
    <link rel="alternate" type="application/rss+xml" href="https://www.yunieebk.com/rss.xml" title="äº‘åŒ¿åšå®¢ RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://www.yunieebk.com/feed.atom" title="äº‘åŒ¿åšå®¢ Atom Feed">
    <link rel="alternate" type="application/json" href="https://www.yunieebk.com/feed.json" title="äº‘åŒ¿åšå®¢ JSON Feed">
    <meta name="description" content="åŠ å¯†çš„ä¿æŠ¤éšç§çš„å‰ªè´´æ¿ã€‚è®©ä½ çš„åˆ†äº«æ›´æ”¾å¿ƒã€‚">
    <meta name="theme-color" content="#2c3e50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/mylogo.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preload" href="/assets/css/0.styles.d6b0261c.css" as="style"><link rel="preload" href="/assets/js/app.0a15a512.js" as="script"><link rel="preload" href="/assets/js/6.c9fc6031.js" as="script"><link rel="preload" href="/assets/js/3.806a905d.js" as="script"><link rel="preload" href="/assets/js/20.0c9e91ea.js" as="script"><link rel="prefetch" href="/assets/js/10.8d1683d1.js"><link rel="prefetch" href="/assets/js/11.99d25a56.js"><link rel="prefetch" href="/assets/js/12.00d73611.js"><link rel="prefetch" href="/assets/js/13.38e8b86e.js"><link rel="prefetch" href="/assets/js/14.20047138.js"><link rel="prefetch" href="/assets/js/15.64f7105e.js"><link rel="prefetch" href="/assets/js/16.498f6456.js"><link rel="prefetch" href="/assets/js/17.44d629d2.js"><link rel="prefetch" href="/assets/js/18.3875288e.js"><link rel="prefetch" href="/assets/js/19.220ee330.js"><link rel="prefetch" href="/assets/js/21.0b9e3bc5.js"><link rel="prefetch" href="/assets/js/22.0806c942.js"><link rel="prefetch" href="/assets/js/23.e4a01355.js"><link rel="prefetch" href="/assets/js/24.75b9bad7.js"><link rel="prefetch" href="/assets/js/25.b4a97c2c.js"><link rel="prefetch" href="/assets/js/26.a5a2cf99.js"><link rel="prefetch" href="/assets/js/27.88f8c907.js"><link rel="prefetch" href="/assets/js/28.7445eb87.js"><link rel="prefetch" href="/assets/js/29.2a21ce41.js"><link rel="prefetch" href="/assets/js/30.58cf1a80.js"><link rel="prefetch" href="/assets/js/31.34dd91be.js"><link rel="prefetch" href="/assets/js/32.33d360e8.js"><link rel="prefetch" href="/assets/js/33.44cec75c.js"><link rel="prefetch" href="/assets/js/34.18ef88db.js"><link rel="prefetch" href="/assets/js/35.ceb40720.js"><link rel="prefetch" href="/assets/js/36.1a144e46.js"><link rel="prefetch" href="/assets/js/37.b25f3162.js"><link rel="prefetch" href="/assets/js/38.23c5f1e6.js"><link rel="prefetch" href="/assets/js/39.da362cda.js"><link rel="prefetch" href="/assets/js/4.11af3560.js"><link rel="prefetch" href="/assets/js/40.9eb72721.js"><link rel="prefetch" href="/assets/js/41.22861a47.js"><link rel="prefetch" href="/assets/js/42.c2ddcd54.js"><link rel="prefetch" href="/assets/js/43.e7b4b67f.js"><link rel="prefetch" href="/assets/js/44.3500b13a.js"><link rel="prefetch" href="/assets/js/45.7acce57f.js"><link rel="prefetch" href="/assets/js/46.b4820c7d.js"><link rel="prefetch" href="/assets/js/47.040c524b.js"><link rel="prefetch" href="/assets/js/5.d2284ad2.js"><link rel="prefetch" href="/assets/js/7.bd7b8040.js"><link rel="prefetch" href="/assets/js/8.9ad23c16.js"><link rel="prefetch" href="/assets/js/9.cf6e7eb0.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.1e3a7564.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6b0261c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><nav class="navbar navbar-expand-md navbar-light fixed-top"><div class="container"><a href="/" class="navbar-brand"><img src="/avatars/mylogo.png">
            äº‘åŒ¿åšå®¢
          </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg> <div class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a href="/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="/rss.xml" class="feed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></ul></div></div></nav></div></header></section> <div class="container wrapmain"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><div class="row justify-content-center"><div class="col-md-8"><header><span class="text-muted"><div class="post-meta"><!----> <div class="post-meta-date"><time pubdate itemprop="datePublished" datetime="2023-08-12T10:59:42.000Z">
      Sat, Aug 12 2023
    </time></div> <!----></div></span> <h1 itemprop="name headline" class="article-head mt-3">
            é—²ç½®VPSåˆ©ç”¨â€”â€”Docker-composeæ­å»ºPrivateBinï¼Œä¸€ä¸ªåŠ å¯†çš„å‰ªè´´æ¿
          </h1> <p class="lead">åŠ å¯†çš„ä¿æŠ¤éšç§çš„å‰ªè´´æ¿ã€‚è®©ä½ çš„åˆ†äº«æ›´æ”¾å¿ƒã€‚</p> <div><span><div class="d-flex align-items-center"><div class="profile-avatar"><img src="/avatars/myicon.webp" alt="yuniee" class="avatar-image"></div> <div><span>yuniee</span> Â 
        <a href="https://www.yunieebk.com/" target="_blank" rel="noopener noreferrer" class="external btn btn-sm btn-outline-dark">Follow</a></div></div></span><span><div class="d-flex align-items-center"><div class="profile-avatar"><!----></div> <!----></div></span><span><div class="d-flex align-items-center"><div class="profile-avatar"><!----></div> <!----></div></span><span><div class="d-flex align-items-center"><div class="profile-avatar"><!----></div> <!----></div></span></div></header></div></div> <div class="row justify-content-center text-center mt-4 mb-40"><div class="col-md-9"><img src="https://s2.loli.net/2023/08/16/kmBTW3Uh8be6SH4.png" class="featured-img"></div></div> <div class="row justify-content-center"><div class="col-md-8"><div itemprop="articleBody" class="content__default"><h1 id="é—²ç½®vpsåˆ©ç”¨-docker-composeæ­å»ºprivatebinï¼Œä¸€ä¸ªåŠ å¯†çš„å‰ªè´´æ¿"><a href="#é—²ç½®vpsåˆ©ç”¨-docker-composeæ­å»ºprivatebinï¼Œä¸€ä¸ªåŠ å¯†çš„å‰ªè´´æ¿" class="header-anchor">#</a> é—²ç½®VPSåˆ©ç”¨â€”â€”Docker-composeæ­å»ºPrivateBinï¼Œä¸€ä¸ªåŠ å¯†çš„å‰ªè´´æ¿</h1> <h2 id="ğŸ’¬å‰è¨€"><a href="#ğŸ’¬å‰è¨€" class="header-anchor">#</a> ğŸ’¬å‰è¨€</h2> <p>æœ‰æ—¶å€™æƒ³åˆ†äº«ä¸€æ®µä»£ç æˆ–è€…ä¸€äº›æƒ³è¦åˆ†äº«ä¸€äº›æ–‡å­—å¹¶å¯¹éšç§å¸Œæœ›æœ‰æ‰€ä¿æŠ¤ï¼Œä¾¿å¯ä»¥è¯•è¯•è¿™ä¸ªPrivateBinã€‚è®©æˆ‘ä»¬æ›´åŠ æ”¾å¿ƒçš„åˆ†äº«ã€‚</p> <h2 id="ğŸŒ³é¡¹ç›®ä»‹ç»"><a href="#ğŸŒ³é¡¹ç›®ä»‹ç»" class="header-anchor">#</a> ğŸŒ³é¡¹ç›®ä»‹ç»</h2> <p>æ ¹æ®å®˜æ–¹çš„ä»‹ç»ï¼ŒPrivateBinæ˜¯ä¸€ä¸ªæç®€ä¸»ä¹‰çš„å¼€æºåœ¨çº¿ç²˜è´´æ¿ï¼ŒæœåŠ¡å™¨å¯¹å·²ç²˜è´´æ•°æ®ä¸€æ— æ‰€çŸ¥ã€‚æ•°æ®åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨256ä½AESç®—æ³•å’ŒGalois Counteræ¨¡å¼è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚</p> <ul><li><p>ä½œä¸ºæœåŠ¡å™¨ç®¡ç†å‘˜ï¼Œæ‚¨ä¸å¿…æ‹…å¿ƒç”¨æˆ·å‘å¸ƒçš„å†…å®¹åœ¨æ‚¨æ‰€åœ¨å›½å®¶è¢«è§†ä¸ºéæ³•ã€‚æ‚¨å¯¹è¿‡å»çš„ä»»ä½•ç²˜è´´å†…å®¹éƒ½æœ‰åˆç†å¦è®¤æƒã€‚å¦‚æœéœ€è¦æˆ–è¦æ±‚ï¼Œæ‚¨å¯ä»¥ä»ç³»ç»Ÿä¸­åˆ é™¤ä»»ä½•ç²˜è´´ã€‚ã€‚</p></li> <li><p>ç±»ä¼¼Pastebinçš„ç³»ç»Ÿç”¨äºå­˜å‚¨æ–‡æœ¬æ–‡æ¡£ã€ä»£ç ç¤ºä¾‹ç­‰ã€‚æ•°æ®å‘é€åˆ°æœåŠ¡å™¨æ—¶è¿›è¡ŒåŠ å¯†ã€‚</p></li> <li><p>å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®åŠ å¯†ã€‚</p></li> <li><p>å¯ä»¥è®¾ç½®ä¸€ä¸ªå¯†ç æ¥é˜…è¯»ç²˜è´´å†…å®¹ã€‚è¿™è¿›ä¸€æ­¥ä¿æŠ¤äº†ç²˜è´´å†…å®¹ï¼Œå¹¶é˜²æ­¢æ²¡æœ‰å¯†ç çš„äººèƒ½å¤Ÿé€šè¿‡é“¾æ¥è¯»å–å®ƒã€‚</p> <p>æ­¤å¤–ï¼Œå®ƒè¿˜æ”¯æŒmarkdownè¯­æ³•ï¼Œä½¿ç”¨èµ·æ¥è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</p></li></ul> <p>ä¸‹é¢æ˜¯é¡¹ç›®çš„æˆªå›¾</p> <p><img src="https://s2.loli.net/2023/08/16/Biw3Jc2dXWYMPbL.png" alt="2023-08-16 211935.png"></p> <p>è¯¥é¡¹ç›®å®˜ç½‘ï¼š<a href="https://privatebin.info/" target="_blank" rel="noopener noreferrer">https://privatebin.info/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>è¯¥é¡¹ç›®çš„GitHubåœ°å€ï¼š<a href="https://github.com/PrivateBin/PrivateBin" target="_blank" rel="noopener noreferrer">https://github.com/PrivateBin/PrivateBin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>å‚è€ƒå®˜æ–¹dockeré…ç½®ï¼š<a href="https://github.com/PrivateBin/PrivateBin/wiki/Docker" target="_blank" rel="noopener noreferrer">https://github.com/PrivateBin/PrivateBin/wiki/Docker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="ğŸ å¼€å§‹æ­å»º"><a href="#ğŸ å¼€å§‹æ­å»º" class="header-anchor">#</a> ğŸ å¼€å§‹æ­å»º</h2> <p>å› ä¸ºæœ¬äººè§‰å¾—docker-composeä½¿ç”¨èµ·æ¥æ›´ä¾¿æ·ï¼Œæ›´èˆ’æœï¼Œæ‰€ä»¥æ ¹æ®å®˜æ–¹dockeré…ç½®ï¼Œä¿®æ”¹æˆäº†docker-composeæ–‡ä»¶ã€‚</p> <ol><li><p>æ›´æ–°ç³»ç»Ÿ</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> update -y <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> upgrade -y
</code></pre></div></li> <li><p>å®‰è£…å¿…è¦å·¥å…·</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt</span> <span class="token function">install</span> <span class="token function">wget</span> <span class="token function">curl</span> <span class="token function">sudo</span> <span class="token function">vim</span> <span class="token function">git</span>  -y
</code></pre></div></li></ol> <h3 id="ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®"><a href="#ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®" class="header-anchor">#</a> ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®</h3> <ol><li><p>ä¸‹è½½docker</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> -qO- get.docker.com <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre></div></li> <li><p>è®¾ç½®dockerå¼€æœºè‡ªå¯</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> docker
</code></pre></div></li> <li><p>é‡å¯docker</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl restart docker
</code></pre></div></li> <li><p>å®‰è£…docker-compose</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">curl</span> -L <span class="token string">&quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>&quot;</span> -o /usr/local/bin/docker-compose
</code></pre></div></li> <li><p>docker-composeèµ‹æƒ</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre></div></li></ol> <h3 id="ğŸ”ªå®‰è£…"><a href="#ğŸ”ªå®‰è£…" class="header-anchor">#</a> ğŸ”ªå®‰è£…</h3> <ol><li><p>æ–°å»ºæ–‡ä»¶å¤¹</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> -p /opt/privatebin/data  /opt/privatebin/config
</code></pre></div></li> <li><p>ä¿®æ”¹æ–‡ä»¶å¤¹æƒé™</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">777</span> /opt/privatebin/data
</code></pre></div></li> <li><p>ä¸‹è½½é…ç½®æ–‡ä»¶</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> -O /opt/privatebin/config/conf.sample.php  https://raw.githubusercontent.com/PrivateBin/PrivateBin/master/cfg/conf.sample.php
</code></pre></div></li> <li><p>ç„¶åå°†ç¤ºä¾‹é…ç½®æ–‡ä»¶å¤åˆ¶ä¸€ä»½,å¹¶é‡å‘½å</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> /opt/privatebin/config/conf.sample.php   /opt/privatebin/config/conf.php
</code></pre></div></li> <li><p>è¿›å…¥æ–‡ä»¶å¤¹</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /opt/privatebin
</code></pre></div></li> <li><p>åˆ›å»ºä¸€ä¸ªdocker-composeæ–‡ä»¶</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">nano</span> docker-compose.yml
</code></pre></div></li> <li><p>è¾“å…¥é…ç½®æ–‡ä»¶</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3'</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">privatebin</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> privatebin/nginx<span class="token punctuation">-</span>fpm<span class="token punctuation">-</span>alpine
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> privatebin
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> PUID=1000
      <span class="token punctuation">-</span> PGID=1000
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8080:8080&quot;</span> <span class="token comment">#å·¦è¾¹ç«¯å£å¯ä»¥ä¿®æ”¹</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /opt/privatebin/config/conf.php<span class="token punctuation">:</span>/srv/cfg/conf.php<span class="token punctuation">:</span>ro
      <span class="token punctuation">-</span> /opt/privatebin/data<span class="token punctuation">:</span>/srv/data
    <span class="token key atrule">read_only</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div></li> <li><p>è¿è¡Œdocker-compose</p> <div class="language-bash extra-class"><pre class="language-bash"><code>docker-compose up -d
</code></pre></div></li> <li><p>æµ‹è¯•æ˜¯å¦æˆåŠŸ</p></li></ol> <p>åœ¨æµè§ˆè¾“å…¥ï¼šhttp://ip:8080 (è¾“å…¥ä½ è‡ªå·±ä¿®æ”¹çš„æ˜ å°„ç«¯å£)</p> <p><strong>æ³¨æ„ï¼ä¸€å®šè¦é…ç½®httpsè®¿é—®ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸ä½¿ç”¨</strong></p> <h2 id="ğŸ“•åè®°"><a href="#ğŸ“•åè®°" class="header-anchor">#</a> ğŸ“•åè®°</h2> <p>å¦‚æœæƒ³è¦é…ç½®åå‘ä»£ç†ä½¿ç”¨åŸŸåè®¿é—®ç½‘é¡µï¼Œè¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š <a href="https://www.yunieebk.com/2023/07/30/caddy%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%B8%8B%E8%BD%BDcaddy%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%92%8C%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%8F%91-%E7%BB%AD%E6%9C%9Fssl-%E8%AF%81%E4%B9%A6/" target="_blank" rel="noopener noreferrer">Caddyçš„åŸºç¡€ä½¿ç”¨ï¼Œä¸‹è½½Caddyå¹¶éƒ¨ç½²åå‘ä»£ç†å’Œè‡ªåŠ¨ç­¾å‘, ç»­æœŸSSL è¯ä¹¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>åœ¨PrivateBiné…ç½®æ–‡ä»¶ä¸­é…ç½®yourlsçŸ­é“¾æ¥è¯·çœ‹è¿™ç¯‡ï¼š<a href="https://www.yunieebk.com/2023/08/13/%E5%9C%A8privatebin%E4%B8%AD%E4%BD%BF%E7%94%A8yourls%E7%9F%AD%E9%93%BE%E6%8E%A5%E6%9C%8D%E5%8A%A1/" target="_blank" rel="noopener noreferrer">åœ¨PrivateBinä¸­ä½¿ç”¨YOURLSçŸ­é“¾æ¥æœåŠ¡<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆä»…ä¾›å‚è€ƒï¼‰"><a href="#é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆä»…ä¾›å‚è€ƒï¼‰" class="header-anchor">#</a> é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆä»…ä¾›å‚è€ƒï¼‰</h3> <p>æ¥æº: <a href="http://www.senra.me/deploy-your-private-online-clipboard-using-privatebin/" target="_blank" rel="noopener noreferrer">senraçš„åšå®¢<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-php extra-class"><pre class="language-php"><code>    ;<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">http_response_code</span><span class="token punctuation">(</span><span class="token number">403</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">*</span>
    <span class="token punctuation">;</span> PrivateBin é…ç½®æ–‡ä»¶
    <span class="token punctuation">;</span>
    <span class="token punctuation">;</span> æ¯ä¸ªé€‰é¡¹çš„è§£é‡Šå¯ä»¥å‚è€ƒ https<span class="token punctuation">:</span><span class="token comment">//github.com/PrivateBin/PrivateBin/wiki/Configuration.</span>
    <span class="token punctuation">;</span> æœ¬é…ç½®ç”±Senraç¿»è¯‘
     
    <span class="token punctuation">[</span>main<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> è®¾ç½®ä¸€ä¸ªç”¨äºåœ¨ç½‘ç«™ä¸Šæ˜¾ç¤ºçš„é¡¹ç›®å<span class="token punctuation">(</span>ç½‘ç«™å<span class="token punctuation">)</span>
    <span class="token punctuation">;</span> name <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;PrivateBin&quot;</span>
     
    <span class="token punctuation">;</span> å¯ç”¨æˆ–ç¦ç”¨è®¨è®ºåŠŸèƒ½<span class="token punctuation">(</span>é’ˆå¯¹Pasteå†…å®¹ç•™è¨€è®¨è®º<span class="token punctuation">)</span>ï¼Œé»˜è®¤ä¸º<span class="token boolean constant">true</span>
    discussion <span class="token operator">=</span> <span class="token boolean constant">true</span>
     
    <span class="token punctuation">;</span> é¢„é€‰è®¨è®ºåŠŸèƒ½<span class="token punctuation">(</span>æ˜¯å¦åœ¨åˆ›å»ºæ–°çš„Pasteæ—¶é»˜è®¤å‹¾é€‰å¼€å¯è®¨è®º<span class="token punctuation">)</span>ï¼Œé»˜è®¤ä¸º<span class="token boolean constant">false</span>
    opendiscussion <span class="token operator">=</span> <span class="token boolean constant">false</span>
     
    <span class="token punctuation">;</span> å¯ç”¨æˆ–ç¦ç”¨å¯†ç åŠŸèƒ½ï¼Œé»˜è®¤ä¸º<span class="token boolean constant">true</span>
    password <span class="token operator">=</span> <span class="token boolean constant">true</span>
     
    <span class="token punctuation">;</span> å¯ç”¨æˆ–ç¦ç”¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œé»˜è®¤<span class="token boolean constant">false</span>
    fileupload <span class="token operator">=</span> <span class="token boolean constant">false</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>æ˜¯å¦åœ¨åˆ›å»ºæ–°çš„Pasteæ—¶é»˜è®¤å‹¾é€‰é˜…åå³ç„š<span class="token punctuation">)</span>ï¼Œé»˜è®¤ä¸º<span class="token boolean constant">false</span>
    burnafterreadingselected <span class="token operator">=</span> <span class="token boolean constant">false</span>
     
    <span class="token punctuation">;</span> å½“å¯ç”¨äº†é˜…åå³ç„šçš„Pasteè¢«ç¬¬ä¸€æ¬¡è®¿é—®åé©¬ä¸Šè¿›è¡Œåˆ é™¤ï¼Œè€Œä¸æ˜¯ç­‰å¾…ä¸€æ¬¡æˆåŠŸçš„è§£å¯†
    <span class="token punctuation">;</span> æŒ‰ç…§è¯´æ˜ï¼ŒPrivateBiné»˜è®¤åœ¨ä½ æµè§ˆå™¨æˆåŠŸè§£å¯†åæ‰ä¼šä½¿ç”¨jsæ¥åšä¸€ä¸ªå›è°ƒä»¥ä¾¿åˆ é™¤Pasteï¼Œè¿™ä¸ªåŠŸèƒ½å°†æ— è§†ä½ æ˜¯å¦æˆåŠŸè§£å¯†ï¼Œç›´æ¥è¿›è¡Œåˆ é™¤
    instantburnafterreading <span class="token operator">=</span> <span class="token boolean constant">false</span>
     
    <span class="token punctuation">;</span> é¢„é€‰çš„é»˜è®¤æ˜¾ç¤ºæ¨¡å¼<span class="token punctuation">(</span>åœ¨åˆ›å»ºæ–°çš„Pasteæ—¶é»˜è®¤é€‰æ‹©çš„æ˜¾ç¤º\æ¸²æŸ“æ ¼å¼<span class="token punctuation">)</span>ï¼Œé»˜è®¤ä¸º<span class="token double-quoted-string string">&quot;plaintext&quot;</span><span class="token punctuation">(</span>çº¯æ–‡æœ¬<span class="token punctuation">)</span>
    <span class="token punctuation">;</span> è¯·ç¡®ä¿è¿™ä¸ªå€¼å­˜åœ¨äº<span class="token punctuation">[</span>formatter_options<span class="token punctuation">]</span>ä¸­
    defaultformatter <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;plaintext&quot;</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> è®¾ç½®ä¸€ç§ä»£ç é«˜äº®çš„ä¸»é¢˜ï¼Œå¯ä»¥åœ¨ css<span class="token operator">/</span>prettify<span class="token operator">/</span> ç›®å½•ä¸­æŸ¥çœ‹
    <span class="token punctuation">;</span> syntaxhighlightingtheme <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;sons-of-obsidian&quot;</span>
     
    <span class="token punctuation">;</span> æ¯ä¸ªPasteæˆ–è€…è¯„è®ºç•™è¨€çš„å¤§å°é™åˆ¶ï¼Œå•ä½ä¸ºbytesï¼Œé»˜è®¤æ˜¯<span class="token number">2</span>Mb
    sizelimit <span class="token operator">=</span> <span class="token number">2097152</span>
     
    <span class="token punctuation">;</span> ä½¿ç”¨çš„æ¨¡æ¿ï¼Œé»˜è®¤æ˜¯<span class="token double-quoted-string string">&quot;bootstrap&quot;</span> <span class="token punctuation">(</span>tpl<span class="token operator">/</span>bootstrap<span class="token punctuation">.</span>php<span class="token punctuation">)</span>
    template <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;bootstrap&quot;</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> æ˜¾ç¤ºçš„æç¤º
    <span class="token punctuation">;</span> notice <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;Note: This is a test service: Data may be deleted anytime. Kittens will die if you abuse this service.&quot;</span>
     
    <span class="token punctuation">;</span> é»˜è®¤æƒ…å†µä¸‹PrivateBinä¼šæ ¹æ®ç”¨æˆ·çš„æµè§ˆå™¨è®¾ç½®æ¥çŒœæµ‹ç”¨æˆ·ä½¿ç”¨çš„è¯­è¨€ï¼Œå¯ç”¨è¯¥é€‰é¡¹å°†ä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿåœ¨èœå•ä¸­é€‰æ‹©è¯­è¨€
    <span class="token punctuation">;</span> è¯­è¨€çš„é€‰æ‹©è®°å½•ä¼šä»¥session cookieçš„å½¢å¼å­˜å‚¨åœ¨ä½ çš„æµè§ˆå™¨ä¸­ï¼Œä¿å­˜åˆ°ä½ çš„æµè§ˆå™¨å…³é—­ä¹‹å‰
    languageselection <span class="token operator">=</span> <span class="token boolean constant">false</span>
     
    <span class="token punctuation">;</span> è®¾ç½®é»˜è®¤è¯­è¨€ï¼Œé»˜è®¤ä¸ºEnglish
    <span class="token punctuation">;</span> å¦‚æœè¿™ä¸ªé€‰é¡¹è¢«è®¾ç½®äº†ä¸”ä¸Šä¸€ä¸ªè¯­è¨€é€‰æ‹©åŠŸèƒ½è¢«å…³é—­ï¼Œåˆ™è¿™å°†æˆä¸ºå”¯ä¸€çš„è¯­è¨€
    <span class="token punctuation">;</span> languagedefault <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;en&quot;</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> é“¾æ¥ç¼©çŸ­ç¨‹åºçš„åœ°å€<span class="token punctuation">(</span><span class="token constant">API</span><span class="token punctuation">)</span>ï¼Œé€šè¿‡é…ç½®è¿™ä¸ªèƒ½åœ¨åˆ›å»ºæ–°çš„Pasteæ—¶åŒæ—¶åˆ›å»ºçŸ­é“¾ä»¥æ–¹ä¾¿ä½¿ç”¨
    <span class="token punctuation">;</span> éœ€è¦æ³¨æ„çš„æ˜¯è¯·é€‰æ‹©å¯é çš„æˆ–è€…æ˜¯è‡ªå»ºçš„çŸ­é“¾ï¼Œå› ä¸ºè¿™ä¼šä½¿å¾—çŸ­é“¾æä¾›è€…èƒ½å¤Ÿè·å–ä½ å¸¦æœ‰åŠ å¯†å¯†é’¥çš„å®Œæ•´é“¾æ¥
    <span class="token punctuation">;</span> urlshortener <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;https://shortener.example.com/api?link=&quot;</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> æ˜¯ç”¨æˆ·èƒ½å¤Ÿä¸€é”®ç”Ÿæˆä¸€ä¸ªç”¨äºåˆ†äº«Pasteé“¾æ¥çš„äºŒç»´ç 
    <span class="token punctuation">;</span> è¿™ä¸ªä¼šå¯¹ä½ åˆ›å»ºPasteä»¥åŠæµè§ˆPasteçš„é¡µé¢åŒæ—¶ç”Ÿæ•ˆ
    <span class="token punctuation">;</span> qrcode <span class="token operator">=</span> <span class="token boolean constant">true</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> ä½¿ç”¨åŸºäº<span class="token constant">IP</span>çš„è¯„è®ºå¤´åƒæ¥åŒºåˆ†ä¸€æ¡è¯„è®ºæ˜¯å¦æ˜¯æ¥è‡ªäºä¸€ä¸ªä½¿ç”¨äº†ç›¸åŒçš„ç”¨æˆ·åçš„ä¸åŒç”¨æˆ·æ˜¯ä¸€ä¸ªæ¯”è¾ƒå·®åŠ²çš„æœºåˆ¶ã€‚
    <span class="token punctuation">;</span> å› ä¸ºè¿™ç§æƒ…å†µä¸‹å¦‚æœæœåŠ¡å™¨çš„saltæ³„éœ²ï¼Œå¯ä»¥é€šè¿‡ä¸º<span class="token constant">IP</span>ç”Ÿæˆå½©è™¹ç‰ˆçš„æ–¹å¼æ¥ç¢°æ’è·å¾—æ‰€æœ‰éåŒ¿åçš„è¯„è®ºè€…çš„<span class="token constant">IP</span>
    <span class="token punctuation">;</span> è¿™ä¸ªé€‰é¡¹å¯ä»¥è¢«è®¾ç½®ä¸º none <span class="token operator">/</span> vizhash <span class="token operator">/</span> <span class="token function">identicon</span><span class="token punctuation">(</span>é»˜è®¤<span class="token punctuation">)</span>
    <span class="token punctuation">;</span> icon <span class="token operator">=</span> none
     
    <span class="token punctuation">;</span> Content Security <span class="token function">Policy</span><span class="token punctuation">(</span><span class="token constant">CSP</span><span class="token punctuation">)</span>è¿™ä¸ª<span class="token constant">HTTP</span>å¤´å…è®¸ç½‘ç«™é™åˆ¶ä»€ä¹ˆå†…å®¹å¯ä»¥åœ¨å®ƒçš„é¡µé¢åŠ è½½<span class="token punctuation">(</span>ç”¨äºé˜²æ­¢æ’å…¥æ¶æ„å†…å®¹<span class="token punctuation">)</span>
    <span class="token punctuation">;</span> å¦‚æœä½ ä¿®æ”¹æ¨¡æ¿æ¥æ·»åŠ ç¬¬ä¸‰æ–¹åŸŸåçš„è‡ªå®šä¹‰è„šæœ¬<span class="token punctuation">(</span>æ¯”å¦‚è¿½è¸ªè„šæœ¬æˆ–è€…ä½¿ç”¨äº†æŸäº›æŠ—<span class="token constant">D</span>æœåŠ¡<span class="token punctuation">)</span>ï¼Œä½ å¯èƒ½éœ€è¦ä¿®æ”¹è¿™ä¸ªã€‚
    <span class="token punctuation">;</span> å¯ä»¥å‚è€ƒ https<span class="token punctuation">:</span><span class="token comment">//content-security-policy.com/ æ¥é…ç½®</span>
    <span class="token punctuation">;</span> æ³¨æ„<span class="token punctuation">:</span> å¦‚æœä½ ä½¿ç”¨bootstrapä¸»é¢˜ï¼Œä½ å¯ä»¥å»é™¤sandboxé™åˆ¶ä¸­çš„allow<span class="token operator">-</span>popups
    <span class="token punctuation">;</span> cspheader <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;default-src 'none'; manifest-src 'self'; connect-src *; form-action 'none'; script-src 'self'; style-src 'self'; font-src 'self'; img-src 'self' data:; referrer no-referrer; sandbox allow-same-origin allow-scripts allow-forms allow-popups&quot;</span>
     
    <span class="token punctuation">;</span> å’ŒPrivateBin Alpha <span class="token number">0.19</span>ä¿æŒå…¼å®¹ï¼Œä¼šå¯¼è‡´é™ä½ä¸€å®šçš„å®‰å…¨æ€§
    <span class="token punctuation">;</span> å¦‚æœå¯ç”¨è¿™é¡¹ï¼Œå°†ä½¿ç”¨base64<span class="token punctuation">.</span>jsçš„<span class="token number">1.7</span>ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯<span class="token number">2.1</span><span class="token number">.9</span>ç‰ˆæœ¬ï¼Œå¹¶ä¸”åœ¨<span class="token constant">HMAC</span>ä¸­å°†ä½¿ç”¨sha1è€Œä¸æ˜¯<span class="token function">sha256</span><span class="token punctuation">(</span>ç”¨äºç”Ÿæˆåˆ é™¤Pasteçš„token<span class="token punctuation">)</span>
    zerobincompatibility <span class="token operator">=</span> <span class="token boolean constant">false</span>
     
    <span class="token punctuation">[</span>expire<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> é¢„é€‰çš„è¿‡æœŸæ—¶é—´<span class="token punctuation">(</span>åˆ›å»ºæ–°çš„Pasteæ—¶é»˜è®¤é€‰æ‹©çš„è¿‡æœŸæ—¶é—´<span class="token punctuation">)</span>ï¼Œè¯·ç¡®ä¿è¿™ä¸ªå€¼å­˜åœ¨äº<span class="token punctuation">[</span>expire_options<span class="token punctuation">]</span>ä¸­
    <span class="token keyword">default</span> <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;1week&quot;</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> å…‹éš†æŒ‰é’®å¯ä»¥åœ¨è¿‡æœŸçš„Pastesä¸­å…³é—­ï¼Œä½†æ˜¯è¯·æ³¨æ„è¿™åªæ˜¯éšè—äº†æŒ‰é’®ï¼Œå¤åˆ¶å’Œç²˜è´´è¿˜æ˜¯å¯èƒ½çš„
    <span class="token punctuation">;</span> <span class="token keyword">clone</span> <span class="token operator">=</span> <span class="token boolean constant">false</span>
     
    <span class="token punctuation">[</span>expire_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> ä¸ºæ¯ä¸ªè¿‡æœŸçš„æ—¶é—´æ®µè®¾ç½®å…·ä½“çš„ç§’æ•°ï¼Œ<span class="token number">0</span>ä»£è¡¨æ°¸ä¸è¿‡æœŸ
    <span class="token number">5</span>min <span class="token operator">=</span> <span class="token number">300</span>
    <span class="token number">10</span>min <span class="token operator">=</span> <span class="token number">600</span>
    <span class="token number">1</span>hour <span class="token operator">=</span> <span class="token number">3600</span>
    <span class="token number">1</span>day <span class="token operator">=</span> <span class="token number">86400</span>
    <span class="token number">1</span>week <span class="token operator">=</span> <span class="token number">604800</span>
    <span class="token punctuation">;</span> è¿™ä¸ªä¸€ä¸ªæœˆåªæœ‰<span class="token number">30</span>å¤©ï¼Œæ‰€ä»¥ä¸ç®—å‡†ç¡®
    <span class="token number">1</span>month <span class="token operator">=</span> <span class="token number">2592000</span>
    <span class="token number">1</span>year <span class="token operator">=</span> <span class="token number">31536000</span>
    never <span class="token operator">=</span> <span class="token number">0</span>
     
    <span class="token punctuation">[</span>formatter_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> è®¾ç½®å¯é€‰çš„æ ¼å¼<span class="token punctuation">(</span>ç”¨äºæ¸²æŸ“å’Œæ˜¾ç¤º<span class="token punctuation">)</span>ï¼Œå®ƒä»¬çš„é¡ºåºå’Œæ ‡ç­¾
    plaintext <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;Plain Text&quot;</span>
    syntaxhighlighting <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;Source Code&quot;</span>
    markdown <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;Markdown&quot;</span>
     
    <span class="token punctuation">[</span>traffic<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> åŒä¸€ä¸ª<span class="token constant">IP</span>çš„è®¿é—®é¢‘ç‡é™åˆ¶ï¼Œå•ä½ä¸ºç§’ï¼Œè®¾ä¸º<span class="token number">0</span>ä»£è¡¨ç¦ç”¨
    limit <span class="token operator">=</span> <span class="token number">10</span>
     
    <span class="token punctuation">;</span> <span class="token punctuation">(</span>å¯é€‰<span class="token punctuation">)</span> å¦‚æœä½ çš„ç½‘ç«™è¿è¡Œåœ¨ä¸€ä¸ªåä»£æˆ–è€…è´Ÿè½½å‡è¡¡ä¹‹åï¼Œè®¾ç½®åŒ…å«ç”¨æˆ·<span class="token constant">IP</span>çš„<span class="token constant">HTTP</span>å¤´å¯ä»¥å°†ç”¨æˆ·æ­£ç¡®çš„<span class="token constant">IP</span>ä¼ é€’ç»™ç¨‹åº
    <span class="token punctuation">;</span> header <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;X_FORWARDED_FOR&quot;</span>
     
    <span class="token punctuation">;</span> å­˜å‚¨è®¿é—®é¢‘ç‡é™åˆ¶çš„ç›®å½•
    dir <span class="token operator">=</span> <span class="token constant">PATH</span> <span class="token double-quoted-string string">&quot;data&quot;</span>
     
    <span class="token punctuation">[</span>purge<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> æ¸…é™¤è¿‡æœŸPasteçš„æœ€å°æ—¶é—´é—´éš”ï¼Œæ¸…é™¤åªä¼šåœ¨åˆ›å»ºPasteçš„æ—¶å€™è§¦å‘ï¼Œè®¾ä¸º<span class="token number">0</span>ä»£è¡¨æ¯æ¬¡åˆ›å»ºéƒ½è¿›è¡Œæ¸…é™¤
    limit <span class="token operator">=</span> <span class="token number">300</span>
     
    <span class="token punctuation">;</span> æ¸…é™¤è¿‡æœŸPasteä¸€æ¬¡æœ€å¤šåˆ é™¤çš„Pasteæ•°é‡ï¼Œè®¾ä¸º<span class="token number">0</span>ä»£è¡¨ç¦ç”¨æ¸…é™¤ã€‚å¦‚æœç½‘ç«™ä½¿ç”¨äººæ•°è¾ƒå¤šå»ºè®®æŠŠè¿™ä¸ªå€¼è®¾ç½®çš„ç¨å¾®å¤§ç‚¹
    batchsize <span class="token operator">=</span> <span class="token number">10</span>
     
    <span class="token punctuation">;</span> å­˜å‚¨æ¸…é™¤é¢‘ç‡é™åˆ¶çš„ç›®å½•
    dir <span class="token operator">=</span> <span class="token constant">PATH</span> <span class="token double-quoted-string string">&quot;data&quot;</span>
     
    <span class="token punctuation">[</span>model<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> åŠ è½½çš„æ¨¡å‹ç±»<span class="token punctuation">(</span>æŒ‡å®šäº†æŠŠæ•°æ®å­˜å“ª<span class="token punctuation">)</span>ï¼Œä»¥åŠå­˜å‚¨ç”¨çš„ç›®å½•
    <span class="token punctuation">;</span> é»˜è®¤çš„æ¨¡å‹<span class="token double-quoted-string string">&quot;Filesystem&quot;</span><span class="token punctuation">(</span>æ–‡ä»¶ç³»ç»Ÿ<span class="token punctuation">)</span>å°†æ‰€æœ‰æ•°æ®éƒ½ç›´æ¥å­˜å‚¨åœ¨æ–‡ä»¶ä¸­
    <span class="token keyword">class</span> <span class="token operator">=</span> Filesystem
    <span class="token punctuation">[</span>model_options<span class="token punctuation">]</span>
    dir <span class="token operator">=</span> <span class="token constant">PATH</span> <span class="token double-quoted-string string">&quot;data&quot;</span>
     
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> ä½¿ç”¨MySQLå­˜å‚¨çš„é…ç½®ç¤ºä¾‹
    <span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token operator">=</span> Database
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span>dsn <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;mysql:host=localhost;dbname=privatebin;charset=UTF8&quot;</span>
    <span class="token punctuation">;</span>tbl <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;privatebin_&quot;</span> <span class="token punctuation">;</span> table prefix
    <span class="token punctuation">;</span>usr <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;privatebin&quot;</span>
    <span class="token punctuation">;</span>pwd <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;Z3r0P4ss&quot;</span>
    <span class="token punctuation">;</span>opt<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean constant">true</span> <span class="token punctuation">;</span> <span class="token constant">PDO</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">ATTR_PERSISTENT</span>
     
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> ä½¿ç”¨SQLiteå­˜å‚¨çš„é…ç½®ç¤ºä¾‹
    <span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token operator">=</span> Database
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span>dsn <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;sqlite:&quot;</span> <span class="token constant">PATH</span> <span class="token double-quoted-string string">&quot;data/db.sq3&quot;</span>
    <span class="token punctuation">;</span>usr <span class="token operator">=</span> <span class="token constant">null</span>
    <span class="token punctuation">;</span>pwd <span class="token operator">=</span> <span class="token constant">null</span>
    <span class="token punctuation">;</span>opt<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean constant">true</span> <span class="token punctuation">;</span> <span class="token constant">PDO</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">ATTR_PERSISTENT</span>
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> PostgreSQLæ•°æ®åº“é…ç½®ç¤ºä¾‹
    <span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token operator">=</span> Database
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span>dsn <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;pgsql:host=localhost;dbname=privatebin&quot;</span>
    <span class="token punctuation">;</span>tbl <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;privatebin_&quot;</span> <span class="token punctuation">;</span> è¡¨å‰ç¼€
    <span class="token punctuation">;</span>usr <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;privatebin&quot;</span>
    <span class="token punctuation">;</span>pwd <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;Z3r0P4ss&quot;</span>
    <span class="token punctuation">;</span>opt<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean constant">true</span> <span class="token punctuation">;</span> <span class="token constant">PDO</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">ATTR_PERSISTENT</span>
    
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> Radosç½‘å…³<span class="token operator">/</span><span class="token constant">CEPH</span>çš„<span class="token constant">S3</span>é…ç½®ç¤ºä¾‹
    <span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token operator">=</span> S3Storage
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span>region <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;&quot;</span>
    <span class="token punctuation">;</span>version <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;2006-03-01&quot;</span>
    <span class="token punctuation">;</span>endpoint <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;https://s3.my-ceph.invalid&quot;</span>
    <span class="token punctuation">;</span>use_path_style_endpoint <span class="token operator">=</span> <span class="token boolean constant">true</span>
    <span class="token punctuation">;</span>bucket <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;my-bucket&quot;</span>
    <span class="token punctuation">;</span>accesskey <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;my-rados-user&quot;</span>
    <span class="token punctuation">;</span>secretkey <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;my-rados-pass&quot;</span>
    
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> <span class="token constant">AWS</span>çš„<span class="token constant">S3</span>é…ç½®ç¤ºä¾‹
    <span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token operator">=</span> S3Storage
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span>region <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;eu-central-1&quot;</span>
    <span class="token punctuation">;</span>version <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;latest&quot;</span>
    <span class="token punctuation">;</span>bucket <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;my-bucket&quot;</span>
    <span class="token punctuation">;</span>accesskey <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;access key id&quot;</span>
    <span class="token punctuation">;</span>secretkey <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;secret access key&quot;</span>
    
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> ä½¿ç”¨<span class="token constant">AWS</span>çš„<span class="token constant">SDK</span>é»˜è®¤å‡­æ®æä¾›ç¨‹åºçš„<span class="token constant">AWS</span>çš„<span class="token constant">S3</span>é…ç½®ç¤ºä¾‹
    <span class="token punctuation">;</span> å¦‚æœä¾èµ–äºç¯å¢ƒå˜é‡ï¼Œ<span class="token constant">AWS</span> <span class="token constant">SDK</span>å°†æŸ¥æ‰¾ä»¥ä¸‹å†…å®¹ï¼š
    <span class="token punctuation">;</span> <span class="token operator">-</span> <span class="token constant">AWS_ACCESS_KEY_ID</span>
    <span class="token punctuation">;</span> <span class="token operator">-</span> <span class="token constant">AWS_SECRET_ACCESS_KEY</span>
    <span class="token punctuation">;</span> <span class="token operator">-</span> <span class="token constant">AWS_SESSION_TOKEN</span>ï¼ˆå¦‚æœéœ€è¦ï¼‰
    <span class="token punctuation">;</span> æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…https<span class="token punctuation">:</span><span class="token comment">//docs.aws.amazon.com/sdk-for-php/v3/developer-guide/guide_credentials.html#default-credential-chain</span>
    <span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token operator">=</span> S3Storage
    <span class="token punctuation">;</span><span class="token punctuation">[</span>model_options<span class="token punctuation">]</span>
    <span class="token punctuation">;</span>region <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;eu-central-1&quot;</span>
    <span class="token punctuation">;</span>version <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;latest&quot;</span>
    <span class="token punctuation">;</span>bucket <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;my-bucket&quot;</span>
    
    <span class="token punctuation">[</span>yourls<span class="token punctuation">]</span>
    <span class="token punctuation">;</span> å½“ä½¿ç”¨<span class="token constant">YOURLS</span>ä½œä¸º<span class="token double-quoted-string string">&quot;urlshortener&quot;</span>é…ç½®é¡¹æ—¶ï¼š
    <span class="token punctuation">;</span> <span class="token operator">-</span> é»˜è®¤æƒ…å†µä¸‹ï¼Œ<span class="token double-quoted-string string">&quot;urlshortener&quot;</span>å°†æŒ‡å‘<span class="token constant">YOURLS</span> <span class="token constant">API</span> <span class="token constant">URL</span>ï¼Œå¸¦æœ‰æˆ–ä¸å¸¦æœ‰å‡­æ®ï¼Œå¹¶ä¸”å°†åœ¨PrivateBinç½‘é¡µä¸Šå…¬å¼€æ˜¾ç¤ºã€‚
    <span class="token punctuation">;</span> åªæœ‰åœ¨å…è®¸æ— å‡­æ®åˆ›å»ºçŸ­<span class="token constant">URL</span>æ—¶æ‰ä½¿ç”¨æ­¤é€‰é¡¹ã€‚
    <span class="token punctuation">;</span> <span class="token operator">-</span> æˆ–è€…ï¼Œä½¿ç”¨æ­¤éƒ¨åˆ†ä¸­çš„å‚æ•°ï¼ˆ<span class="token double-quoted-string string">&quot;signature&quot;</span>å’Œ<span class="token double-quoted-string string">&quot;apiurl&quot;</span>ï¼‰ï¼Œ<span class="token double-quoted-string string">&quot;urlshortener&quot;</span>éœ€è¦æŒ‡å‘æ‚¨çš„PrivateBinå®ä¾‹çš„åŸºæœ¬<span class="token constant">URL</span>ï¼Œå¹¶é™„åŠ <span class="token double-quoted-string string">&quot;shortenviayourls?link=&quot;</span>ã€‚ä¾‹å¦‚ï¼š
    <span class="token punctuation">;</span> urlshortener <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;${basepath}shortenviayourls?link=&quot;</span>
    <span class="token punctuation">;</span> ç„¶åï¼Œæ­¤<span class="token constant">URL</span>å°†åœ¨æœåŠ¡å™¨ç«¯è°ƒç”¨<span class="token constant">YOURLS</span>ï¼Œä½¿ç”¨æ¥è‡ª<span class="token double-quoted-string string">&quot;apiurl&quot;</span>çš„<span class="token constant">URL</span>å’Œæ¥è‡ªä¸‹é¢çš„<span class="token double-quoted-string string">&quot;signature&quot;</span>å‚æ•°çš„<span class="token double-quoted-string string">&quot;access signature&quot;</span>ã€‚
    
    <span class="token punctuation">;</span> ï¼ˆå¯é€‰ï¼‰<span class="token constant">YOURLS</span>ä¸ºä½¿ç”¨å¸æˆ·é¢å‘çš„<span class="token double-quoted-string string">&quot;signature&quot;</span>ï¼ˆè®¿é—®å¯†é’¥ï¼‰
    <span class="token punctuation">;</span> signature <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;&quot;</span>
    <span class="token punctuation">;</span> ï¼ˆå¯é€‰ï¼‰<span class="token constant">YOURLS</span> <span class="token constant">API</span>çš„<span class="token constant">URL</span>ï¼Œç”¨äºç¼©çŸ­PrivateBin <span class="token constant">URL</span>
    <span class="token punctuation">;</span> apiurl <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;https://yourls.example.com/yourls-api.php&quot;</span>
    
</span></code></pre></div><p>â€‹</p></div></div></div></article> <div class="row justify-content-center"><div class="col-md-9"><!----> <!----></div></div> <div class="row justify-content-center mt-40"><div class="col-md-8"><div class="post-meta"><!----> <!----> <div itemprop="keywords" class="post-meta-tags"><a href="/tag/ğŸ˜Linux" class="blog-tag" data-v-4217f36d> ğŸ˜Linux </a><a href="/tag/ğŸ‹Docker" class="blog-tag" data-v-4217f36d> ğŸ‹Docker </a><a href="/tag/ğŸ’»é—²ç½®VPSåˆ©ç”¨è®¡åˆ’" class="blog-tag" data-v-4217f36d> ğŸ’»é—²ç½®VPSåˆ©ç”¨è®¡åˆ’ </a></div></div></div></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#ğŸ’¬å‰è¨€" title="ğŸ’¬å‰è¨€">ğŸ’¬å‰è¨€</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ğŸŒ³é¡¹ç›®ä»‹ç»" title="ğŸŒ³é¡¹ç›®ä»‹ç»">ğŸŒ³é¡¹ç›®ä»‹ç»</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ğŸ å¼€å§‹æ­å»º" title="ğŸ å¼€å§‹æ­å»º">ğŸ å¼€å§‹æ­å»º</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®" title="ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®">ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ğŸ”ªå®‰è£…" title="ğŸ”ªå®‰è£…">ğŸ”ªå®‰è£…</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ğŸ“•åè®°" title="ğŸ“•åè®°">ğŸ“•åè®°</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆä»…ä¾›å‚è€ƒï¼‰" title="é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆä»…ä¾›å‚è€ƒï¼‰">é…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆä»…ä¾›å‚è€ƒï¼‰</a></div></div></div></div> <footer class="themefooter"><div class="container"><div class="row justify-content-between"><div class="col"><span>è®°å½•ä¸€äº›åŸºç¡€ä½†æœ‰ç”¨çš„ç©æœºæŒ‡å—ï¼Œè¿˜æœ‰æˆ‘éšå¿ƒåˆ†äº«çš„å„ç§å†…å®¹ï¼Œå¸Œæœ›ä½ èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°ä½ æƒ³è¦çš„</span></div> <div class="col text-right"><ul class="list-unstyled"><li class="contact-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="external"><TelegrameIcon></TelegrameIcon>
              
            </a></li><li class="contact-item"><a href="mailto:mail@yunieebk.com" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
              
            </a></li><li class="contact-item"><a href="https://www.yunieebk.com/" target="_blank" rel="noopener noreferrer" class="external"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
              
            </a></li></ul> <ul class="list-unstyled"></ul></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0a15a512.js" defer></script><script src="/assets/js/6.c9fc6031.js" defer></script><script src="/assets/js/3.806a905d.js" defer></script><script src="/assets/js/20.0c9e91ea.js" defer></script>
  </body>
</html>
