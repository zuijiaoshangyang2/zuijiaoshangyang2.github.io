(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{409:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"é—²ç½®vpsåˆ©ç”¨è®¡åˆ’-æ­å»ºå±äºè‡ªå·±çš„ä¸ªäººç›¸å†Œphotoprism"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—²ç½®vpsåˆ©ç”¨è®¡åˆ’-æ­å»ºå±äºè‡ªå·±çš„ä¸ªäººç›¸å†Œphotoprism"}},[t._v("#")]),t._v(" é—²ç½®VPSåˆ©ç”¨è®¡åˆ’â€”â€”æ­å»ºå±äºè‡ªå·±çš„ä¸ªäººç›¸å†ŒPhotoPrism")]),t._v(" "),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-5818850638223663","data-ad-slot":"1327307385"}}),t._v(" "),a("h2",{attrs:{id:"ğŸ¥³å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¥³å‰è¨€"}},[t._v("#")]),t._v(" ğŸ¥³å‰è¨€")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆéœ€è¦æ­å»ºè‡ªå·±çš„ç›¸å†Œï¼Œå› ä¸ºè‡ªå·±æ­å»ºçš„ç›¸å†Œæ›´å…·éšç§æ€§ï¼Œå¹¶ä¸”è¿™å¯ä»¥é€šè¿‡ç½‘é¡µéšæ—¶éšåœ°æŸ¥çœ‹ã€‚è™½ç„¶çœ‹ä¼¼å›¾åºŠä¹Ÿæœ‰ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä½†æ˜¯é¦–å…ˆå¤§å¤šæ•°å›¾åºŠä¸å…·å¤‡å±•ç¤ºè§†é¢‘çš„åŠŸèƒ½ï¼Œè€Œä¸”è¿™ä¸ªæœ¬å°±æ˜¯ä¸ºäº†ä½œä¸ºç›¸å†Œè€Œè®¾è®¡çš„ï¼Œæ‰€ä»¥è¿˜æœ‰å¾ˆå¤šç‰¹è‰²åŠŸèƒ½ã€‚æ ¹æ®å®˜æ–¹ä»‹ç»æœ‰å¼ºå¤§çš„æœç´¢åŠŸèƒ½ï¼Œé¢éƒ¨è¯†åˆ«ï¼Œåœ°å›¾å’Œåœ°ç‚¹ï¼Œç›¸å†Œåˆ†äº«ï¼Œå¹¿æ³›çš„æ–‡ä»¶æ ¼å¼æ”¯æŒï¼Œæ”¯æŒé«˜çº§å…ƒæ•°æ®æå–ç­‰ã€‚æ€»çš„æ¥è¯´æ˜¯éå¸¸å¥½ç”¨çš„ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å»ºè®®åœ¨æœ‰æ›´å¤§çš„å†…å­˜çš„æœåŠ¡å™¨ä¸Šè¿è¡Œã€‚å®˜æ–¹å»ºè®®æ˜¯4Gï¼Œå¤§äº2Gå†…å­˜çš„æ·»åŠ SWAPåå¯å°è¯•è¿è¡Œ")])]),t._v(" "),a("p",[a("strong",[t._v("æˆªå›¾å±•ç¤ºï¼š")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2023/11/07/LsgiEaZSInNFuW8.png",alt:"tupian"}})]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/photoprism/photoprism",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHubä»“åº“é“¾æ¥"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://demo-zh.photoprism.app/library/browse",target:"_blank",rel:"noopener noreferrer"}},[t._v("Demo"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"ğŸˆâ€â¬›å¼€å§‹æ­å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸˆâ€â¬›å¼€å§‹æ­å»º"}},[t._v("#")]),t._v(" ğŸˆâ€â¬›å¼€å§‹æ­å»º")]),t._v(" "),a("h3",{attrs:{id:"ğŸ¤¯å‡†å¤‡å·¥ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¤¯å‡†å¤‡å·¥ä½œ"}},[t._v("#")]),t._v(" ğŸ¤¯å‡†å¤‡å·¥ä½œ")]),t._v(" "),a("p",[t._v("æ›´æ–°ç³»ç»Ÿï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯Debian11ç³»ç»Ÿï¼ˆUbuntuåŒç†ï¼‰")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" update -y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" upgrade -y\n")])])]),a("p",[t._v("å®‰è£…å¿…è¦å·¥å…·")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("  -y\n")])])]),a("h3",{attrs:{id:"ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®"}},[t._v("#")]),t._v(" ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®")]),t._v(" "),a("ol",[a("li",[t._v("ä¸‹è½½docker")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -qO- get.docker.com "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("è®¾ç½®dockerå¼€æœºè‡ªå¯")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" docker\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("é‡å¯docker")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("systemctl restart docker\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("å®‰è£…docker-compose")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -L "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),t._v(" -s"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),t._v(" -m"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" -o /usr/local/bin/docker-compose\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("docker-composeèµ‹æƒ")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x /usr/local/bin/docker-compose\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[t._v("ä¿®æ”¹æ—¶åŒºä¸ºä¸Šæµ·")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" timedatectl set-timezone Asia/Shanghai\n")])])]),a("h3",{attrs:{id:"ğŸ…é¡¹ç›®éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ…é¡¹ç›®éƒ¨ç½²"}},[t._v("#")]),t._v(" ğŸ…é¡¹ç›®éƒ¨ç½²")]),t._v(" "),a("ol",[a("li",[t._v("åˆ›å»ºå­˜é…ç½®æ–‡ä»¶çš„ç›®å½•,ç„¶åè¿›å…¥ç›®å½•ä¸‹ã€‚")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" /opt/photoprism \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt/photoprism\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("ä¸‹è½½å®˜æ–¹çš„docker-composeé…ç½®æ–‡ä»¶")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://dl.photoprism.app/docker/docker-compose.yml\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("ä»¥ä¸‹ä¸ºé…ç½®æ–‡ä»¶ä¸­æ–‡ç¿»è¯‘å†…å®¹ï¼ˆæ¥è‡ªchatgptï¼‰ï¼š")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.5'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PhotoPrismçš„Docker Composeé…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆLinux / AMD64ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ³¨æ„ï¼š")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# - åœ¨å…·æœ‰å°‘äº4GBäº¤æ¢ç©ºé—´çš„æœåŠ¡å™¨ä¸Šè¿è¡ŒPhotoPrismï¼Œæˆ–è€…è®¾ç½®å†…å­˜/äº¤æ¢é™åˆ¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å¤–é‡å¯ï¼ˆ"å´©æºƒ"ï¼‰ï¼Œä¾‹å¦‚å½“ç´¢å¼•å™¨ä¸´æ—¶éœ€è¦æ›´å¤šå†…å­˜æ¥å¤„ç†å¤§æ–‡ä»¶æ—¶ã€‚')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - å¦‚æœæ‚¨åœ¨å®¶åº­ç½‘ç»œä¹‹å¤–çš„å…¬å…±æœåŠ¡å™¨ä¸Šå®‰è£…PhotoPrismï¼Œè¯·å§‹ç»ˆåœ¨å…¶åé¢è¿è¡Œå®‰å…¨çš„HTTPSåå‘ä»£ç†ï¼Œä¾‹å¦‚Traefikæˆ–Caddyã€‚å¦åˆ™ï¼Œæ‚¨çš„æ–‡ä»¶å’Œå¯†ç å°†ä»¥æ˜æ–‡å½¢å¼ä¼ è¾“ï¼Œå¹¶å¯èƒ½è¢«ä»»ä½•äººæˆªè·ï¼ŒåŒ…æ‹¬æ‚¨çš„æä¾›å•†ã€é»‘å®¢å’Œæ”¿åºœï¼š")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#   https://docs.photoprism.app/getting-started/proxies/traefik/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¾ç½®æŒ‡å—ï¼š")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - https://docs.photoprism.app/getting-started/docker-compose/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - https://docs.photoprism.app/getting-started/raspberry-pi/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - https://www.photoprism.app/kb/activation")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ•…éšœæ’é™¤æ¸…å•ï¼š")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - https://docs.photoprism.app/getting-started/troubleshooting/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - https://docs.photoprism.app/getting-started/troubleshooting/docker/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - https://docs.photoprism.app/getting-started/troubleshooting/mariadb/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CLIå‘½ä»¤ï¼š")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# - https://docs.photoprism.app/getting-started/docker-compose/#command-line-interface")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# å½“ä¸ä»¥rootç”¨æˆ·èº«ä»½è¿è¡Œæ—¶ï¼Œæ‰€æœ‰å‘½ä»¤å¯èƒ½éƒ½éœ€è¦ä»¥"sudo"ä¸ºå‰ç¼€ã€‚')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿™å°†æŠŠå®¶ç›®å½•å¿«æ·æ–¹å¼~æŒ‡å‘å·æŒ‚è½½ä¸­çš„/rootã€‚")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("photoprism")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ç”¨äºæµ‹è¯•é¢„è§ˆç‰ˆæœ¬çš„ photoprism/photoprism:previewï¼š")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" photoprism/photoprism"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## åœ¨PhotoPrismæ­£ç¡®é…ç½®å’Œæµ‹è¯•ä¹‹å‰ï¼Œè¯·ä¸è¦å¯ç”¨è‡ªåŠ¨é‡å¯ï¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## å¦‚æœæœåŠ¡é™·å…¥é‡å¯å¾ªç¯ï¼Œè¿™å¯èƒ½æ˜¯å†…å­˜ã€æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œæˆ–æ•°æ®åº“é—®é¢˜ï¼š")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## https://docs.photoprism.app/getting-started/troubleshooting/#fatal-server-errors")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# restart: unless-stopped")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stop_grace_period")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10s\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mariadb\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security_opt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" seccomp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("unconfined\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" apparmor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("unconfined\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2342:2342"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HTTPç«¯å£ï¼ˆä¸»æœº:å®¹å™¨ï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_ADMIN_USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®¡ç†å‘˜ç™»å½•ç”¨æˆ·å")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_ADMIN_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"insecure"')]),t._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆå§‹ç®¡ç†å‘˜å¯†ç ï¼ˆ8-72ä¸ªå­—ç¬¦ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_AUTH_MODE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¤è¯æ¨¡å¼ï¼ˆpublicã€passwordï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_SITE_URL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:2342/"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# æœåŠ¡å™¨URLï¼Œæ ¼å¼ä¸º"http(s)://domain.name(:port)/(path)"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_TLS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨HTTPS/TLSï¼Œå³ä½¿ç«™ç‚¹URLä»¥https://å¼€å¤´å¹¶ä¸”æœ‰å¯ç”¨è¯ä¹¦")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DEFAULT_TLS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¦‚æœæ²¡æœ‰å…¶ä»–è¯ä¹¦å¯ç”¨ï¼Œä½¿ç”¨è‡ªç­¾åçš„HTTPS/TLSè¯ä¹¦ä½œä¸ºé»˜è®¤")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_ORIGINALS_LIMIT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åŸå§‹æ–‡ä»¶çš„æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆMBï¼‰ï¼ˆå¢åŠ ä»¥æ”¯æŒé«˜åˆ†è¾¨ç‡è§†é¢‘ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_HTTP_COMPRESSION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gzip"')]),t._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æé«˜ä¼ è¾“é€Ÿåº¦å’Œå¸¦å®½åˆ©ç”¨ç‡ï¼ˆnoneæˆ–gzipï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_LOG_LEVEL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"info"')]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ—¥å¿—çº§åˆ«ï¼štraceã€debugã€infoã€warningã€errorã€fatalæˆ–panic")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_READONLY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸è¦ä¿®æ”¹åŸå§‹ç›®å½•ï¼ˆåŠŸèƒ½å—é™ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_EXPERIMENTAL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯ç”¨å®éªŒæ€§åŠŸèƒ½")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_CHOWN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨å¯åŠ¨æ—¶é€šè¿‡chmodå’Œchownæ›´æ–°å­˜å‚¨æƒé™")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_WEBDAV")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨å†…ç½®çš„WebDAVæœåŠ¡å™¨")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_SETTINGS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨è®¾ç½®ç•Œé¢å’ŒAPI")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_TENSORFLOW")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨æ‰€æœ‰ä¾èµ–äºTensorFlowçš„åŠŸèƒ½")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_FACES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨äººè„¸æ£€æµ‹å’Œè¯†åˆ«ï¼ˆéœ€è¦TensorFlowï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_CLASSIFICATION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨å›¾åƒåˆ†ç±»ï¼ˆéœ€è¦TensorFlowï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_VECTORS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨çŸ¢é‡å›¾å½¢æ”¯æŒ")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DISABLE_RAW")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¦ç”¨åŸå§‹å›¾åƒçš„ç´¢å¼•å’Œè½¬æ¢")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_RAW_PRESETS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åœ¨è½¬æ¢åŸå§‹å›¾åƒæ—¶å¯ç”¨åº”ç”¨ç”¨æˆ·é¢„è®¾ï¼ˆé™ä½æ€§èƒ½ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_JPEG_QUALITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("85")]),t._v("                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ›´é«˜çš„å€¼å¢åŠ JPEGå›¾åƒå’Œç¼©ç•¥å›¾çš„è´¨é‡å’Œæ–‡ä»¶å¤§å°ï¼ˆ25-100ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DETECT_NSFW")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è‡ªåŠ¨æ ‡è®°å¯èƒ½å…·æœ‰å†’çŠ¯æ€§çš„ç…§ç‰‡ä¸ºç§æœ‰ï¼ˆéœ€è¦TensorFlowï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_UPLOAD_NSFW")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…è®¸ä¸Šä¼ å¯èƒ½å…·æœ‰å†’çŠ¯æ€§çš„ç…§ç‰‡ï¼ˆæ— TensorFlowæ•ˆæœï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# PHOTOPRISM_DATABASE_DRIVER: "sqlite"         # SQLiteæ˜¯ä¸€ä¸ªåµŒå…¥å¼æ•°æ®åº“ï¼Œä¸éœ€è¦æœåŠ¡å™¨')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DATABASE_DRIVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysql"')]),t._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨MariaDB 10.5+æˆ–MySQL 8+ä»£æ›¿SQLiteä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DATABASE_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mariadb:3306"')]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MariaDBæˆ–MySQLæ•°æ®åº“æœåŠ¡å™¨ï¼ˆä¸»æœºå:ç«¯å£ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DATABASE_NAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"photoprism"')]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MariaDBæˆ–MySQLæ•°æ®åº“æ¨¡å¼åç§°")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DATABASE_USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"photoprism"')]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MariaDBæˆ–MySQLæ•°æ®åº“ç”¨æˆ·å")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_DATABASE_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"insecure"')]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MariaDBæˆ–MySQLæ•°æ®åº“ç”¨æˆ·å¯†ç ")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_SITE_CAPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åŸºäºAIçš„ç…§ç‰‡åº”ç”¨"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_SITE_DESCRIPTION")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç«™ç‚¹æè¿°")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PHOTOPRISM_SITE_AUTHOR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç«™ç‚¹ä½œè€…")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## è§†é¢‘è½¬ç ï¼ˆhttps://docs.photoprism.app/getting-started/advanced/transcoding/ï¼‰ï¼š")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# PHOTOPRISM_FFMPEG_ENCODER: "software"        # H.264/AVCç¼–ç å™¨ï¼ˆsoftwareã€intelã€nvidiaã€appleã€raspberryæˆ–vaapiï¼‰')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# PHOTOPRISM_FFMPEG_SIZE: "1920"               # è§†é¢‘å¤§å°é™åˆ¶ï¼ˆåƒç´ ï¼‰ï¼ˆ720-7680ï¼‰ï¼ˆé»˜è®¤å€¼ï¼š3840ï¼‰')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# PHOTOPRISM_FFMPEG_BITRATE: "32"              # è§†é¢‘æ¯”ç‰¹ç‡é™åˆ¶ï¼ˆMbit/sï¼‰ï¼ˆé»˜è®¤å€¼ï¼š50ï¼‰')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶è¿è¡Œ/å®‰è£…ï¼ˆé€‰é¡¹ï¼šupdate https gpu tensorflow davfs clitools cleanï¼‰ï¼š")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# PHOTOPRISM_INIT: "https gpu tensorflow"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## åœ¨åˆå§‹åŒ–ä¹‹åä»¥érootç”¨æˆ·èº«ä»½è¿è¡Œï¼ˆæ”¯æŒçš„å€¼ï¼š0ã€33ã€50-99ã€500-600å’Œ900-1200ï¼‰ï¼š")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PHOTOPRISM_UID: 1000")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PHOTOPRISM_GID: 1000")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# PHOTOPRISM_UMASK: 0000")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## åœ¨åˆå§‹åŒ–ä¹‹å‰ä»¥érootç”¨æˆ·èº«ä»½å¯åŠ¨ï¼ˆæ”¯æŒçš„å€¼ï¼š0ã€33ã€50-99ã€500-600å’Œ900-1200ï¼‰ï¼š")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# user: "1000:1000"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ä¸FFmpegå’ŒTensorFlowå…±äº«ç¡¬ä»¶è®¾å¤‡ï¼ˆå¯é€‰ï¼‰ï¼š")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# devices:")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/dri:/dev/dri"                         # Intel QSV')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/nvidia0:/dev/nvidia0"                 # Nvidia CUDA')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/nvidiactl:/dev/nvidiactl"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/nvidia-modeset:/dev/nvidia-modeset"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/nvidia-nvswitchctl:/dev/nvidia-nvswitchctl"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/nvidia-uvm:/dev/nvidia-uvm"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/nvidia-uvm-tools:/dev/nvidia-uvm-tools"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#  - "/dev/video11:/dev/video11"                 # Video4Linuxè§†é¢‘ç¼–ç è®¾å¤‡ï¼ˆh264_v4l2m2mï¼‰')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("working_dir")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/photoprism"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸è¦æ›´æ”¹æˆ–åˆ é™¤")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('## å­˜å‚¨æ–‡ä»¶å¤¹ï¼š"~"æ˜¯å®¶ç›®å½•çš„å¿«æ·æ–¹å¼ï¼Œ"."æ˜¯å½“å‰ç›®å½•çš„å¿«æ·æ–¹å¼')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# "/host/folder:/photoprism/folder"                # ç¤ºä¾‹')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/Pictures:/photoprism/originals"')]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åŸå§‹åª’ä½“æ–‡ä»¶ï¼ˆä¸è¦åˆ é™¤ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# - "/example/family:/photoprism/originals/family" # å¯ä»¥åƒè¿™æ ·æŒ‚è½½*å…¶ä»–*åª’ä½“æ–‡ä»¶å¤¹')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# - "~/Import:/photoprism/import"                  # *å¯é€‰*ç”¨äºä»åŸå§‹æ–‡ä»¶å¤¹å¯¼å…¥æ–‡ä»¶çš„åŸºæœ¬æ–‡ä»¶å¤¹')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./storage:/photoprism/storage"')]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# *å¯å†™*çš„å­˜å‚¨æ–‡ä»¶å¤¹ï¼Œç”¨äºç¼“å­˜ã€æ•°æ®åº“å’Œè¾…åŠ©æ–‡ä»¶ï¼ˆä¸è¦åˆ é™¤ï¼‰")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## æ•°æ®åº“æœåŠ¡å™¨ï¼ˆæ¨èï¼‰")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## å‚è§ https://docs.photoprism.app/getting-started/faq/#should-i-use-sqlite-mariadb-or-mysql")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mariadb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mariadb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.11")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## å¦‚æœMariaDBé™·å…¥é‡å¯å¾ªç¯ï¼Œè¿™å¯èƒ½æ˜¯å†…å­˜æˆ–æ–‡ä»¶ç³»ç»Ÿé—®é¢˜ï¼š")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## https://docs.photoprism.app/getting-started/troubleshooting/#fatal-server-errors")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" unless"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stopped\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stop_grace_period")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5s\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security_opt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‚è§ https://github.com/MariaDB/mariadb-docker/issues/434#issuecomment-1136151239")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" seccomp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("unconfined\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" apparmor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("unconfined\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mariadbd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("innodb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("buffer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("size=512M "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("isolation=READ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("COMMITTED "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("character"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server=utf8mb4 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("collation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("server=utf8mb4_unicode_ci "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("connections=512 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("innodb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("rollback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("timeout=OFF "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("innodb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("lock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("timeout=120\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## æ°¸è¿œä¸è¦å°†æ•°æ®åº“æ–‡ä»¶å­˜å‚¨åœ¨ä¸å¯é çš„è®¾å¤‡ä¸Šï¼Œå¦‚USBé—ªå­˜é©±åŠ¨å™¨ã€SDå¡æˆ–å…±äº«ç½‘ç»œæ–‡ä»¶å¤¹ä¸Šï¼š")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./database:/var/lib/mysql"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸è¦åˆ é™¤")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MARIADB_AUTO_UPGRADE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MARIADB_INITDB_SKIP_TZINFO")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MARIADB_DATABASE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"photoprism"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MARIADB_USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"photoprism"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MARIADB_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"insecure"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MARIADB_ROOT_PASSWORD")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"insecure"')]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Watchtowerè‡ªåŠ¨å‡çº§æœåŠ¡ï¼ˆå¯é€‰ï¼‰")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## å‚è§ https://docs.photoprism.app/getting-started/updates/#watchtower")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('## é€šè¿‡ "COMPOSE_PROFILES=update docker compose up -d" æ¿€æ´»')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("watchtower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" unless"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("stopped\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" containrrr/watchtower\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("profiles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"update"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("WATCHTOWER_CLEANUP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("WATCHTOWER_POLL_INTERVAL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7200")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¯ä¸¤å°æ—¶æ£€æŸ¥æ›´æ–°")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/run/docker.sock:/var/run/docker.sock"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/.docker/config.json:/config.json"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯é€‰ï¼Œç”¨äºèº«ä»½éªŒè¯ï¼Œå¦‚æœæ‚¨æœ‰Docker Hubå¸æˆ·")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("ä¿®æ”¹docker-compose.ymlæ–‡ä»¶åè¿è¡Œ")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("docker-compose up -d\n")])])]),a("p",[t._v("ç„¶åå°±èƒ½åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ ip:ç«¯å£è®¿é—®äº†")]),t._v(" "),a("p",[t._v("å¦‚æœæƒ³è¦é…ç½®åå‘ä»£ç†å¹¶é€šè¿‡åŸŸåè®¿é—®ï¼Œä½ éœ€è¦æå‰è§£æåŸŸåï¼Œå¹¶åœ¨docker-composeé…ç½®æ–‡ä»¶ä¸­æ›´æ”¹ä¸ºä½ çš„åŸŸåï¼Œé…ç½®åå‘ä»£ç†ï¼Œä½ å¯ä»¥å‚è€ƒ"),a("a",{attrs:{href:"https://www.yunieebk.com/2023/07/30/caddy%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%B8%8B%E8%BD%BDcaddy%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%92%8C%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%8F%91-%E7%BB%AD%E6%9C%9Fssl-%E8%AF%81%E4%B9%A6/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Caddyçš„åŸºç¡€ä½¿ç”¨ï¼Œä¸‹è½½Caddyå¹¶éƒ¨ç½²åå‘ä»£ç†å’Œè‡ªåŠ¨ç­¾å‘, ç»­æœŸSSL è¯ä¹¦"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"ğŸ½åè®°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ½åè®°"}},[t._v("#")]),t._v(" ğŸ½åè®°")]),t._v(" "),a("p",[t._v("è¿›å…¥åå°åå¯ä»¥è®¾ç½®ä¸­æ–‡å¹¶æ ¹æ®ä½ çš„éœ€è¦ç®¡ç†åº“å’Œé¢„è§ˆè´¨é‡æ›´æ”¹ä¸»é¢˜ç­‰ï¼Œå¯ä»¥è‡ªè¡Œå»æ¢ç´¢ã€‚ä¸ªäººè§‰å¾—ç•Œé¢è¿˜æ˜¯æ¯”è¾ƒç®€æ´ç¾è§‚çš„ã€‚å¦å¤–è¿˜æ”¯æŒwebdavï¼Œå°±ç®—æ˜¯å°ç¡¬ç›˜ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚\n"),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-5818850638223663","data-ad-slot":"1327307385"}})],1)],1)}),[],!1,null,null,null);s.default=e.exports}}]);