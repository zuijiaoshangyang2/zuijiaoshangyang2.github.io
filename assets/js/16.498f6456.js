(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{390:function(a,s,t){"use strict";t.r(s);var e=t(10),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"caddyçš„åŸºç¡€ä½¿ç”¨ï¼Œä¸‹è½½caddyå¹¶éƒ¨ç½²åå‘ä»£ç†å’Œè‡ªåŠ¨ç­¾å‘-ç»­æœŸssl-è¯ä¹¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#caddyçš„åŸºç¡€ä½¿ç”¨ï¼Œä¸‹è½½caddyå¹¶éƒ¨ç½²åå‘ä»£ç†å’Œè‡ªåŠ¨ç­¾å‘-ç»­æœŸssl-è¯ä¹¦"}},[a._v("#")]),a._v(" Caddyçš„åŸºç¡€ä½¿ç”¨ï¼Œä¸‹è½½Caddyå¹¶éƒ¨ç½²åå‘ä»£ç†å’Œè‡ªåŠ¨ç­¾å‘, ç»­æœŸSSL è¯ä¹¦")]),a._v(" "),t("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-5818850638223663","data-ad-slot":"1327307385"}}),a._v(" "),t("h2",{attrs:{id:"ğŸ‘ºå‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘ºå‰è¨€"}},[a._v("#")]),a._v(" ğŸ‘ºå‰è¨€")]),a._v(" "),t("p",[a._v("â€‹        é€šå¸¸è§‰å¾—ä¸€å°æœåŠ¡å™¨ä¸Šåªéƒ¨ç½²ä¸€ä¸ªæœåŠ¡æ˜¾å¾—æœåŠ¡å™¨å¤ªè¿‡ç©ºé—²ï¼Œæœ‰äº›æ€§èƒ½çš„æµªè´¹ï¼ˆ"),t("s",[a._v("æˆ‘ä»¬è¦æ¦¨å¹²å®ƒçš„æœ€åä¸€ç‚¹èµ„æº")]),a._v("ï¼‰ã€‚ä½†åœ¨ä¸€ä¸ªåªæœ‰ä¸€æ¡ç‹¬ç«‹IPV4çš„æœåŠ¡å™¨ä¸Šåªæœ‰ä¸€ä¸ª80ç«¯å£(HTTP)å’Œä¸€ä¸ª443ç«¯å£(Https),å½“æˆ‘ä»¬æƒ³è¦éƒ¨ç½²å¤šä¸ªç½‘ç«™æ—¶æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ä¸åŒçš„ç«¯å£ï¼Œä½†å› æ­¤å½“æˆ‘ä»¬å»è®¿é—®è¿™äº›ç½‘ç«™æ—¶å°±å¿…é¡»ä»¥IP+ç«¯å£çš„æ–¹å¼è®¿é—®ç½‘ç«™ï¼Œè¿™é€šå¸¸ä¸å¤ªä¼˜é›…ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åå‘ä»£ç†æ¥å°†è¿™äº›ç½‘ç«™åå‘ä»£ç†åˆ°80æˆ–443ç«¯å£ï¼Œè®©æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€æ¡åŸŸåè®¿é—®ã€‚å¹¶ä¸”æˆ‘ä»¬å¯ä»¥ä¸éœ€è¦æ‹…å¿ƒsslè¯ä¹¦çš„ç”³è¯·å’Œç»­æœŸäº†ã€‚")]),a._v(" "),t("h2",{attrs:{id:"ğŸ¦„å¼€å§‹å®‰è£…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¦„å¼€å§‹å®‰è£…"}},[a._v("#")]),a._v(" ğŸ¦„å¼€å§‹å®‰è£…")]),a._v(" "),t("h3",{attrs:{id:"ğŸ¤–å‡†å¤‡äº‹å®œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¤–å‡†å¤‡äº‹å®œ"}},[a._v("#")]),a._v(" ğŸ¤–å‡†å¤‡äº‹å®œ")]),a._v(" "),t("p",[a._v("ä¸€æ¡åŸŸåï¼Œä¸€ä¸ª"),t("strong",[a._v("80å’Œ443ç«¯å£æœªè¢«å ç”¨")]),a._v("çš„VPS")]),a._v(" "),t("h3",{attrs:{id:"ğŸ¦§å®‰è£…caddy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¦§å®‰è£…caddy"}},[a._v("#")]),a._v(" ğŸ¦§å®‰è£…Caddy")]),a._v(" "),t("p",[a._v("å®‰è£…å‚è€ƒ  "),t("a",{attrs:{href:"https://caddyserver.com/docs/install",target:"_blank",rel:"noopener noreferrer"}},[a._v("å®˜æ–¹æ–‡æ¡£"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("æ¥ä¸‹æ¥æˆ‘ä»¬é¦–å…ˆå®‰è£…caddyï¼Œè¿™é‡Œæˆ‘ä»¬å±•ç¤ºUbuntu/Debianç³»ç»Ÿçš„å®‰è£…ï¼Œå…¶ä»–ç³»ç»Ÿçš„å®‰è£…è§å®˜æ–¹æ–‡æ¡£ã€‚")]),a._v(" "),t("p",[a._v("é¦–å…ˆæˆ‘ä»¬æ›´æ–°ç³»ç»Ÿ")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update -y "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" upgrade -y\n")])])]),t("p",[a._v("ç„¶åå®‰è£…ä¸€äº›ç»å¸¸ä½¿ç”¨çš„è½¯ä»¶")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v("  -y\n")])])]),t("p",[a._v("ç¬¬ä¸€æ­¥:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y debian-keyring debian-archive-keyring apt-transport-https\n")])])]),t("p",[a._v("ç¬¬äºŒæ­¥")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -1sLf "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'https://dl.cloudsmith.io/public/caddy/stable/gpg.key'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg\n")])])]),t("p",[a._v("ç¬¬ä¸‰æ­¥")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -1sLf "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tee")]),a._v(" /etc/apt/sources.list.d/caddy-stable.list\n")])])]),t("p",[a._v("ç¬¬å››æ­¥")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update\n")])])]),t("p",[a._v("ç¬¬äº”æ­¥")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" caddy\n")])])]),t("p",[a._v("è¿™æ ·caddyå°±å®‰è£…å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨"),t("code",[a._v("sudo systemctl start caddy")]),a._v("æ¥å¯åŠ¨caddyï¼Œç„¶åå¯ä»¥ä½¿ç”¨"),t("code",[a._v("sudo systemctl status caddy")]),a._v("æ¥æŸ¥çœ‹caddyæ˜¯å¦å·²ç»è¿è¡Œäº†ã€‚ç»“æœå¦‚ä¸‹å›¾ï¼š")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://s2.loli.net/2023/08/01/uHN2tr51j7BDlws.png",alt:"caddy.png"}})]),a._v(" "),t("p",[a._v("å‡ºç°äº†activeï¼ˆrunningï¼‰è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸå¯åŠ¨caddyäº†ã€‚")]),a._v(" "),t("p",[a._v("ç„¶åä½¿ç”¨")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("bash\nsudo systemctl enable caddy\n")])])]),t("p",[a._v("æ¥é…ç½®å¼€æœºè‡ªå¯ã€‚")]),a._v(" "),t("h3",{attrs:{id:"ğŸ»caddyçš„åŸºç¡€é…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ»caddyçš„åŸºç¡€é…ç½®"}},[a._v("#")]),a._v(" ğŸ»Caddyçš„åŸºç¡€é…ç½®")]),a._v(" "),t("p",[a._v("Caddyçš„é…ç½®æ–‡ä»¶è·¯å¾„åœ¨ "),t("code",[a._v("/etc/caddy/Caddyfile")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("nano")]),a._v(" /etc/caddy/Caddyfile\n")])])]),t("p",[a._v("ç¬¬ä¸€æ¬¡æ‰“å¼€è¿™ä¸ªæ–‡ä»¶æ—¶ä¼šæœ‰å¾ˆå¤šå†…å®¹ï¼Œæˆ‘ä»¬å…ˆæŠŠä»–ä»¬å…¨éƒ¨åˆ æ‰æˆ–è€…æ³¨é‡Šæ‰ï¼Œç„¶åå¯ä»¥å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("a.example.com {\n         tls admin@examlpe.com\n         encode gzip\n         reverse_proxy localhost:7777\n}\nb.example.com {\n         tls admin@examlpe.com\n         encode gzip\n         reverse_proxy localhost:8888\n}\n")])])]),t("p",[a._v("åœ¨è¿™é‡Œä½ å¯ä»¥æŠŠåŸŸåæ”¹æˆä½ çš„æå‰è§£æè¿‡è¿™å°å®‰è£…caddyçš„æœåŠ¡å™¨ipçš„åŸŸåï¼Œé‚®ç®±ä¹Ÿå¯ä»¥æ”¹æˆä½ çš„ï¼Œå½“ç„¶éšæ„å¡«ä¸€ä¸ªä¸å­˜åœ¨çš„é‚®ç®±ä¹Ÿå¯ä»¥ã€‚")]),a._v(" "),t("h3",{attrs:{id:"ğŸ¦ä½¿é…ç½®ç”Ÿæ•ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¦ä½¿é…ç½®ç”Ÿæ•ˆ"}},[a._v("#")]),a._v(" ğŸ¦ä½¿é…ç½®ç”Ÿæ•ˆ")]),a._v(" "),t("p",[a._v("è‹¥æå‰å¯åŠ¨äº†caddyï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ "),t("code",[a._v("sudo systemctl restart caddy")]),a._v("  æ¥ä½¿é…ç½®ç”Ÿæ•ˆã€‚")]),a._v(" "),t("p",[a._v("é…ç½®å®Œæ—¶å€™caddyä¼šå¸®ä½ è‡ªåŠ¨ç”³è¯·è¯ä¹¦ï¼Œå¹¶ä¸”åœ¨ä¹‹åä¼šå¸®ä½ è‡ªåŠ¨ç»­æœŸè¯ä¹¦ï¼Œéå¸¸æ–¹ä¾¿ã€‚")]),a._v(" "),t("h2",{attrs:{id:"ğŸ¦œåè®°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¦œåè®°"}},[a._v("#")]),a._v(" ğŸ¦œåè®°")]),a._v(" "),t("p",[a._v("Caddyè¿˜æœ‰å…¶ä»–ä½¿ç”¨æ–¹å¼ï¼Œæ¯”å¦‚å®ç°ç½‘ç«™é‡å®šå‘")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("a.example.com {   \n         redir https://b.example.com{uri}\n}\n")])])]),t("p",[a._v("è¿™æ ·å°±å¯ä»¥æŠŠa.example.com é‡å®šå‘åˆ° b.example.com")]),a._v(" "),t("h3",{attrs:{id:"ğŸ§ å¯èƒ½é‡è§çš„é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ å¯èƒ½é‡è§çš„é—®é¢˜"}},[a._v("#")]),a._v(" ğŸ§ å¯èƒ½é‡è§çš„é—®é¢˜")]),a._v(" "),t("p",[a._v("æœ‰æ—¶å€™åå‘ä»£ç†å…¶ä»–æœåŠ¡å™¨çš„ç½‘ç«™ä¼šå‡ºç°æ— æ³•ä½¿ç”¨çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("a.example.me {\n    tls admin@example.com\n    reverse_proxy https://11.22.33.44:9999 {\n        transport http {\n            tls_insecure_skip_verify\n        }\n    }\n}\n")])])]),t("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-5818850638223663","data-ad-slot":"1327307385"}})],1)}),[],!1,null,null,null);s.default=n.exports}}]);