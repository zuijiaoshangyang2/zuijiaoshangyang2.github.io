(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{387:function(s,e,a){"use strict";a.r(e);var t=a(10),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("一个防止小鸡ssh断连导致任务中断的神器")])]),s._v(" "),a("h1",{attrs:{id:"linux-screen指令的基础应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-screen指令的基础应用"}},[s._v("#")]),s._v(" Linux screen指令的基础应用")]),s._v(" "),a("h2",{attrs:{id:"🕷️为什么需要screen指令？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🕷️为什么需要screen指令？"}},[s._v("#")]),s._v(" 🕷️为什么需要screen指令？")]),s._v(" "),a("p",[s._v("当购买的vps网络不好，或者本地网络不稳定时，通过ssh连接总是出现断连的情况，这时当你运行一个重要的任务时突然中断，这让人很抓狂，或者当你用vps传输数据时或者备份时，突然中断，就前功尽弃了，更严重者会丢失数据。又或者你有一个任务想让他人和你一起编辑，利用screen指令就可以和别人一起共享同一个会话了。")]),s._v(" "),a("h2",{attrs:{id:"🦗检查screen命令的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🦗检查screen命令的安装"}},[s._v("#")]),s._v(" 🦗检查screen命令的安装")]),s._v(" "),a("p",[s._v("有些vps的系统一开始并不自带screen指令，所以在使用之前你需要检查一下你的系统里是否已经安装了screen指令")]),s._v(" "),a("p",[s._v("使用以下命令检查")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -v\n")])])]),a("p",[s._v("当出现以下情况时就说明你已经安装了screen")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2023/06/19/6ke5zuvj3pLICdl.png",alt:"屏幕截图 2023-06-09 180932.png"}})]),s._v(" "),a("p",[s._v("如果你还没有安装screen，可输入以下命令安装")]),s._v(" "),a("ul",[a("li",[s._v("Debian/Ubuntu")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -y\n")])])]),a("ul",[a("li",[s._v("CentOS/RedHat/Fedora")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -y\n")])])]),a("h2",{attrs:{id:"🐫screen的基础使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐫screen的基础使用"}},[s._v("#")]),s._v(" 🐫screen的基础使用")]),s._v(" "),a("blockquote",[a("p",[s._v("这里我们将要使用的只是简单的使用方法")])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("新建一个screen会话")])])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -S 自定义名称\n")])])]),a("p",[s._v("由此我们建立了一个screen会话,并且你已经进入了新的screen会话。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("查看我们刚才新建的screen会话")])])]),s._v(" "),a("p",[s._v("使用")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -ls\n")])])]),a("p",[s._v("查看")]),s._v(" "),a("p",[s._v("你会看见如下图结果\n"),a("img",{attrs:{src:"https://s2.loli.net/2023/06/19/tRKDgCBHwo9XfOM.png",alt:"屏幕截图 2023-06-09 195708.png"}})]),s._v(" "),a("p",[s._v("很明显，我在这里创建了一个名为aaa的会话。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("detach，暂时离开当前会话，使其后台运行")])])]),s._v(" "),a("p",[s._v("当你的任务已经在运行中，并且你还想运行别的命令，又或者你需要断开ssh使工作后台运行你可以使用"),a("code",[s._v("ctrl+a+d")]),s._v("使其detach,当然你也可以使用"),a("code",[s._v("screen -d aaa")]),s._v("使其detach。")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("回到刚才的screen会话")])])]),s._v(" "),a("p",[s._v("要想回到刚才的screen会话，我们使用")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -r aaa\n")])])]),a("p",[s._v("然后我们就回到了刚才的会话")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("删除新建的screen会话")])])]),s._v(" "),a("p",[s._v("当你的任务结束了，你想删除刚才新建的会话，你可以首先再次使用"),a("code",[s._v("ctrl+a+d")]),s._v("，然后再次使用"),a("code",[s._v("screen -ls")]),s._v("查看你的会话名称或者会话的编号")]),s._v(" "),a("p",[s._v("比如我们上面创建的screen会话，我们可以使用以下命令删除")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -X -S aaa quit\n")])])]),a("p",[s._v("或者")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("screen")]),s._v(" -X -S "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("212612")]),s._v(" quit\n")])])]),a("h2",{attrs:{id:"😶‍🌫️其它参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#😶‍🌫️其它参数"}},[s._v("#")]),s._v(" 😶‍🌫️其它参数")]),s._v(" "),a("p",[s._v("经过以上操作，我们已经掌握了screen的最简单的用法，下面是一些其它参数")]),s._v(" "),a("ul",[a("li",[s._v("A 　将所有的视窗都调整为目前终端机的大小。")]),s._v(" "),a("li",[s._v("d <作业名称> 　将指定的screen作业离线。")]),s._v(" "),a("li",[s._v("h <行数> 　指定视窗的缓冲区行数。")]),s._v(" "),a("li",[s._v("m 　即使目前已在作业中的screen作业，仍强制建立新的screen作业。")]),s._v(" "),a("li",[s._v("r <作业名称> 　恢复离线的screen作业。")]),s._v(" "),a("li",[s._v("R 　先试图恢复离线的作业。若找不到离线的作业，即建立新的screen作业。")]),s._v(" "),a("li",[s._v("s 　指定建立新视窗时，所要执行的shell。")]),s._v(" "),a("li",[s._v("S <作业名称> 　指定screen作业的名称。")]),s._v(" "),a("li",[s._v("v 　显示版本信息。")]),s._v(" "),a("li",[s._v("x 　恢复之前离线的screen作业。")]),s._v(" "),a("li",[s._v("ls或--list 　显示目前所有的screen作业。")]),s._v(" "),a("li",[s._v("wipe 　检查目前所有的screen作业，并删除已经无法使用的screen作业。")])]),s._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("p",[s._v("以上就是使用screen的最最基础方法，如果你感兴趣可以去深入研究，但对很多人来说已经足够了，希望这能帮到大家。")])])}),[],!1,null,null,null);e.default=n.exports}}]);