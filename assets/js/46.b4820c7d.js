(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{419:function(s,a,e){"use strict";e.r(a);var t=e(10),v=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"linux创建新用户并分配root权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux创建新用户并分配root权限"}},[s._v("#")]),s._v(" Linux创建新用户并分配root权限")]),s._v(" "),e("h2",{attrs:{id:"⛷️创建用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#⛷️创建用户"}},[s._v("#")]),s._v(" ⛷️创建用户")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" newuser\n")])])]),e("h2",{attrs:{id:"🦐设置用户密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🦐设置用户密码"}},[s._v("#")]),s._v(" 🦐设置用户密码")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" newuser\n")])])]),e("h2",{attrs:{id:"👽创建用户专属目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#👽创建用户专属目录"}},[s._v("#")]),s._v(" 👽创建用户专属目录")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/newuserdir\n")])])]),e("h2",{attrs:{id:"😵‍💫更改目录所有者"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#😵‍💫更改目录所有者"}},[s._v("#")]),s._v(" 😵‍💫更改目录所有者")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" newuser:newuser /home/newuserdir\n")])])]),e("h2",{attrs:{id:"🥳设置用户权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🥳设置用户权限"}},[s._v("#")]),s._v(" 🥳设置用户权限")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("750")]),s._v(" /home/newuserdir\n")])])]),e("p",[s._v("这里的权限设置 "),e("code",[s._v("750")]),s._v(" 表示：")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("7")]),s._v("：用户拥有读、写、执行权限 (4 + 2 + 1)")]),s._v(" "),e("li",[e("code",[s._v("5")]),s._v("：组成员拥有读、执行权限 (4 + 1)")]),s._v(" "),e("li",[e("code",[s._v("0")]),s._v("：其他人没有任何权限")])]),s._v(" "),e("h2",{attrs:{id:"🦩将用户的主目录更改为其他目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🦩将用户的主目录更改为其他目录"}},[s._v("#")]),s._v(" 🦩将用户的主目录更改为其他目录")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -d /home/newuserdir newuser\n")])])]),e("h2",{attrs:{id:"🤖给用户分配root权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🤖给用户分配root权限"}},[s._v("#")]),s._v(" 🤖给用户分配root权限")]),s._v(" "),e("p",[s._v("在 Linux 系统中，给用户分配 "),e("code",[s._v("root")]),s._v(" 权限通常是通过将该用户添加到 "),e("code",[s._v("sudo")]),s._v(" 组来实现的。以下是具体的步骤：")]),s._v(" "),e("ol",[e("li",[s._v("添加用户到 "),e("code",[s._v("sudo")]),s._v(" 组")])]),s._v(" "),e("p",[s._v("假设你已经创建了一个名为 "),e("code",[s._v("newuser")]),s._v(" 的用户，现在你想给他分配 "),e("code",[s._v("root")]),s._v(" 权限。你可以使用以下命令将用户添加到 "),e("code",[s._v("sudo")]),s._v(" 组：")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" newuser\n")])])]),e("p",[e("code",[s._v("-aG")]),s._v(" 选项表示将用户追加到一个组中，而不是替换用户当前所属的组。")]),s._v(" "),e("h3",{attrs:{id:"验证用户权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#验证用户权限"}},[s._v("#")]),s._v(" 验证用户权限")]),s._v(" "),e("p",[s._v("为了验证用户是否已获得 "),e("code",[s._v("sudo")]),s._v(" 权限，你可以使用 "),e("code",[s._v("su")]),s._v(" 命令切换到该用户，然后尝试执行需要 "),e("code",[s._v("sudo")]),s._v(" 权限的命令：")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - newuser\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /root\n")])])]),e("p",[s._v("如果用户已成功获取 "),e("code",[s._v("sudo")]),s._v(" 权限，执行上述命令时会提示你输入用户密码，然后你应该能够查看 "),e("code",[s._v("/root")]),s._v(" 目录的内容。")]),s._v(" "),e("h3",{attrs:{id:"🙂‍↕️编辑-sudoers-文件（高级设置）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🙂‍↕️编辑-sudoers-文件（高级设置）"}},[s._v("#")]),s._v(" 🙂‍↕️编辑 "),e("code",[s._v("sudoers")]),s._v(" 文件（高级设置）")]),s._v(" "),e("p",[s._v("如果你想进行更细粒度的权限控制或不使用 "),e("code",[s._v("sudo")]),s._v(" 组，你可以直接编辑 "),e("code",[s._v("/etc/sudoers")]),s._v(" 文件。使用以下命令打开文件进行编辑：")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" visudo\n")])])]),e("p",[s._v("在文件中添加以下行，允许 "),e("code",[s._v("newuser")]),s._v(" 使用 "),e("code",[s._v("sudo")]),s._v(" 命令：")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("newuser "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL:ALL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ALL\n")])])]),e("p",[s._v("编辑完成后，保存并退出。这样，你的用户就拥有了 "),e("code",[s._v("sudo")]),s._v(" 权限。")]),s._v(" "),e("p",[s._v("请注意，分配 "),e("code",[s._v("sudo")]),s._v(" 权限给用户会授予其执行任何系统命令的能力，因此在实际使用中需要谨慎操作。")]),s._v(" "),e("p",[s._v("解释 ALL=(ALL:ALL) ALL")]),s._v(" "),e("p",[e("code",[s._v("newuser ALL=(ALL:ALL) ALL")]),s._v(" 是在 "),e("code",[s._v("sudoers")]),s._v(" 文件中用来配置特定用户权限的一条规则。让我们逐一解析这段配置：")]),s._v(" "),e("ul",[e("li",[e("strong",[e("code",[s._v("newuser")])]),s._v(": 这是指定的用户名，表示这条规则适用于该用户。在这种情况下，它适用于 "),e("code",[s._v("newuser")]),s._v(" 用户。")]),s._v(" "),e("li",[e("strong",[e("code",[s._v("ALL")])]),s._v(":\n"),e("ul",[e("li",[s._v("第一个 "),e("code",[s._v("ALL")]),s._v(" 指的是主机别名（Host_Alias）。在这里表示用户可以在任何主机上执行命令，通常在单机环境中是默认设置。")])])]),s._v(" "),e("li",[e("strong",[e("code",[s._v("(ALL:ALL)")])]),s._v(":\n"),e("ul",[e("li",[e("strong",[s._v("第一个 "),e("code",[s._v("ALL")])]),s._v(": 表示用户可以以任何用户的身份执行命令。这部分定义了用户在执行命令时的目标用户，通常用于指定以 "),e("code",[s._v("root")]),s._v(" 或其他用户的身份运行命令。")]),s._v(" "),e("li",[e("strong",[s._v("第二个 "),e("code",[s._v("ALL")])]),s._v(": 在括号内的第二个 "),e("code",[s._v("ALL")]),s._v(" 表示用户可以以任何组的身份运行命令。")])])]),s._v(" "),e("li",[e("strong",[e("code",[s._v("ALL")])]),s._v(": 最后一个 "),e("code",[s._v("ALL")]),s._v(" 表示用户可以执行任何命令。")])]),s._v(" "),e("p",[e("strong",[s._v("综合解释")])]),s._v(" "),e("p",[s._v("整条规则 "),e("code",[s._v("newuser ALL=(ALL:ALL) ALL")]),s._v(" 的意思是，"),e("code",[s._v("newuser")]),s._v(" 用户可以在任何主机上，以任何用户或组的身份，执行任何命令。这实际上授予了 "),e("code",[s._v("newuser")]),s._v(" 用户超级用户（"),e("code",[s._v("root")]),s._v("）的权限。")]),s._v(" "),e("p",[s._v("需要注意的是，这种配置会授予用户极大的权限，通常仅用于需要完全控制系统的用户。为了安全，应该谨慎使用这种配置。")])])}),[],!1,null,null,null);a.default=v.exports}}]);