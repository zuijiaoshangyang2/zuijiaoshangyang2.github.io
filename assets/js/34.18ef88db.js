(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{408:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ä¸ç”¨æœºåœºé¢æ¿ï¼Œæ­å»ºä¸€ä¸ªèŠ‚ç‚¹è®¢é˜…ç¨‹åº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ç”¨æœºåœºé¢æ¿ï¼Œæ­å»ºä¸€ä¸ªèŠ‚ç‚¹è®¢é˜…ç¨‹åº"}},[t._v("#")]),t._v(" ä¸ç”¨æœºåœºé¢æ¿ï¼Œæ­å»ºä¸€ä¸ªèŠ‚ç‚¹è®¢é˜…ç¨‹åº")]),t._v(" "),a("h2",{attrs:{id:"ğŸ¦¦å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¦¦å‰è¨€"}},[t._v("#")]),t._v(" ğŸ¦¦å‰è¨€")]),t._v(" "),a("p",[a("strong",[t._v("æœ¬æ¬¡ä»‹ç»çš„é¡¹ç›®æ˜¯æ¥è‡ªNodeseekè®ºå›çš„ä¸€ä¸ªè€å“¥å†™çš„ï¼Œä¸ºäº†æ›´æ–¹ä¾¿çš„ç®¡ç†èŠ‚ç‚¹ï¼Œä½†å› ä¸ºæ­¤ç±»è¯é¢˜å‘åœ¨å†…æ¿å¾ˆå¿«å°±è¢«è®¾ä¸ºç§æœ‰äº†ï¼Œå·²ç»å¿˜è®°æ˜¯å“ªä¸ªè€å“¥å†™çš„äº†ğŸ˜¥ï¼Œä½†æ˜¯è°¢è°¢å¤§ä½¬ã€‚")])]),t._v(" "),a("p",[t._v("å¾ˆå¤šäººéƒ½è§‰å¾—ä½¿ç”¨æœºåœºé¢æ¿å¾ˆéº»çƒ¦ï¼Œå¹¶ä¸”ä¸ªäººä½¿ç”¨å¾ˆå¤šæ—¶å€™æ²¡å¿…è¦ï¼Œæ‰€ä»¥æ€»æƒ³æ‰¾ä¸€ä¸ªåªéœ€è¦å°†èŠ‚ç‚¹é“¾æ¥æ”¾å…¥ä¸€ä¸ªtxtæ–‡æ¡£ä¾¿å¯ä»¥å‡­å€Ÿè®¢é˜…é“¾æ¥åœ¨å„ç«¯æ›´æ–°æ‰€æœ‰èŠ‚ç‚¹çš„æ–¹å¼ã€‚æ‰€ä»¥è¿™æ¬¡ä»‹ç»çš„ç¨‹åºå¯èƒ½é€‚åˆè¿™ç§è¦æ±‚ã€‚\n"),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-5818850638223663","data-ad-slot":"1327307385"}})],1),t._v(" "),a("h2",{attrs:{id:"ğŸ¦›å¼€å§‹æ­å»º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¦›å¼€å§‹æ­å»º"}},[t._v("#")]),t._v(" ğŸ¦›å¼€å§‹æ­å»º")]),t._v(" "),a("h3",{attrs:{id:"ğŸ¤ªå‡†å¤‡å·¥ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¤ªå‡†å¤‡å·¥ä½œ"}},[t._v("#")]),t._v(" ğŸ¤ªå‡†å¤‡å·¥ä½œ")]),t._v(" "),a("p",[t._v("æ›´æ–°ç³»ç»Ÿï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯Debian11ç³»ç»Ÿï¼ˆUbuntuåŒç†ï¼‰")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" update -y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" upgrade -y\n")])])]),a("p",[t._v("å®‰è£…å¿…è¦å·¥å…·")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("  -y\n")])])]),a("h3",{attrs:{id:"ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®"}},[t._v("#")]),t._v(" ğŸ‹å®‰è£…dockerï¼Œdocker-composeå¹¶é…ç½®")]),t._v(" "),a("ol",[a("li",[t._v("ä¸‹è½½docker")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -qO- get.docker.com "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("è®¾ç½®dockerå¼€æœºè‡ªå¯")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" docker\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("é‡å¯docker")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("systemctl restart docker\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("å®‰è£…docker-compose")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -L "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),t._v(" -s"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),t._v(" -m"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" -o /usr/local/bin/docker-compose\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[t._v("docker-composeèµ‹æƒ")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x /usr/local/bin/docker-compose\n")])])]),a("h3",{attrs:{id:"ğŸˆâ€â¬›é¡¹ç›®éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸˆâ€â¬›é¡¹ç›®éƒ¨ç½²"}},[t._v("#")]),t._v(" ğŸˆâ€â¬›é¡¹ç›®éƒ¨ç½²")]),t._v(" "),a("h4",{attrs:{id:"ğŸdocker-runéƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸdocker-runéƒ¨ç½²"}},[t._v("#")]),t._v(" ğŸdocker runéƒ¨ç½²")]),t._v(" "),a("p",[t._v("1.å¯ä»¥ä½¿ç”¨docker runéƒ¨ç½²ï¼Œåªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿™ä¹Ÿæ˜¯è®ºå›è€å“¥æä¾›çš„ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("docker run -d --restart"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("always -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10015")]),t._v(":10015  -e  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TOKEN=dmit"')]),t._v(" -v /opt/dingyue.txt:/dingyue brownbearye/brownbearye:latest\n")])])]),a("p",[t._v("å…¶ä¸­çš„å‚æ•°è§£é‡Šå¦‚ä¸‹")]),t._v(" "),a("p",[a("strong",[t._v("-p")]),t._v(" 10015:10015 10015æ˜¯è®¢é˜…åœ°å€å¯¹å¤–å‘å¸ƒçš„ç«¯å£,å¯ä»¥ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„ï¼Œ10015æ˜¯é»˜è®¤ç«¯å£")]),t._v(" "),a("p",[a("strong",[t._v('-e "TOKEN=dmit"')]),t._v(" ä¸ºæ¥å£çš„ç§˜é’¥ï¼Œåªæœ‰ç§˜é’¥æ­£ç¡®æ‰å¯ä»¥è·å–åˆ°æ¥å£è¿”å›çš„èŠ‚ç‚¹ã€‚ä½ å¯ä»¥æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„ï¼Œä½†æœ€å¥½è®¾ç½®çš„å¤æ‚ä¸€äº›ï¼Œä¸ºäº†å°½å¯èƒ½ç¡®ä¿ä½ çš„è®¢é˜…å®‰å…¨ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("-v /opt/dingyue.txt:/dingyue")]),t._v("æ˜¯å­˜æ”¾èŠ‚ç‚¹ä¿¡æ¯çš„è®¢é˜…æ–‡ä»¶åœ¨VPSä¸Šçš„ä½ç½®ï¼Œè¿™é‡Œè¯´æ˜èŠ‚ç‚¹æ”¾åˆ°/myvpsæ–‡ä»¶å¤¹å†…æ–°å»ºçš„dingyue.txtæ–‡ä»¶ä¸­ï¼Œä»¥è‡ªèº«å®é™…ä¸ºå‡†ã€‚è¿™ä¸ªæ–‡ä»¶å†…å­˜æ”¾èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ¯è¡Œä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™é‡Œè¦æ³¨æ„ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸‹ä¸ªèŠ‚ç‚¹ç²˜è´´æ—¶è¦é‡æ–°å¦èµ·ä¸€è¡Œã€‚")]),t._v(" "),a("p",[t._v("æ¯”å¦‚ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" dingyue.txt\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" dingyue.txt\n")])])]),a("p",[t._v("è¾“å…¥èŠ‚ç‚¹é“¾æ¥åè¾“å…¥"),a("code",[t._v(":")]),t._v("åŠ "),a("code",[t._v("wq")]),t._v("ä¿å­˜å¹¶é€€å‡ºå°±å¯ä»¥äº†ã€‚")]),t._v(" "),a("p",[t._v("éƒ¨ç½²å®Œæˆåæ ¹æ®é…ç½®ä¿®æ”¹è®¢é˜…è¿æ¥æ¥è·å–èŠ‚ç‚¹ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("è®¢é˜…è¿æ¥çš„æ ¼å¼ä¸º:")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("http://ä½ çš„ip:10015?token"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dmit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("æ›¿æ¢ä¸ºä½ æ›´æ”¹çš„å¯†é’¥"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨åå‘ä»£ç†10065ç«¯å£åä½¿ç”¨åŸŸåã€‚æ ¼å¼å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("https://åŸŸå?token"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dmit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("æ›¿æ¢ä¸ºä½ æ›´æ”¹çš„å¯†é’¥"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("åå‘ä»£ç†å¯ä»¥çœ‹è¿™é‡Œï¼š"),a("a",{attrs:{href:"https://www.yunieebk.com/2023/07/30/caddy%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%B8%8B%E8%BD%BDcaddy%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%92%8C%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%8F%91-%E7%BB%AD%E6%9C%9Fssl-%E8%AF%81%E4%B9%A6/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Caddyçš„åŸºç¡€ä½¿ç”¨ï¼Œä¸‹è½½Caddyå¹¶éƒ¨ç½²åå‘ä»£ç†å’Œè‡ªåŠ¨ç­¾å‘, ç»­æœŸSSL è¯ä¹¦"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"ğŸ¢docker-composeæ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¢docker-composeæ–‡ä»¶"}},[t._v("#")]),t._v(" ğŸ¢docker-composeæ–‡ä»¶")]),t._v(" "),a("p",[t._v("å½“ç„¶ï¼Œæœ‰äººå–œæ¬¢docker-composeï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt/dy\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" docker-compose.yml\n")])])]),a("p",[t._v("è¾“å…¥ï¼š")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("brownbearye")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" brownbearye/brownbearye"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" brownbearye_container\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10015:10015"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" TOKEN=dmit\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /opt/dingyue.txt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/dingyue\n")])])]),a("p",[t._v("ç„¶åè¾“å…¥"),a("code",[t._v(":")]),t._v("åŠ "),a("code",[t._v("wq")]),t._v("ä¿å­˜å¹¶é€€å‡º")]),t._v(" "),a("p",[t._v("æœ€åè¾“å…¥:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("docker-compose up -d\n")])])]),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-5818850638223663","data-ad-slot":"1327307385"}}),t._v(" "),a("h3",{attrs:{id:"ğŸ«æºç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ«æºç "}},[t._v("#")]),t._v(" ğŸ«æºç ")]),t._v(" "),a("p",[t._v("è¿™æ˜¯è€å“¥å½“æ—¶æä¾›çš„æºç ,ä¸€å…±æ˜¯ä¸¤ä¸ªæ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨å®˜æ–¹ Python è¿è¡Œæ—¶ä½œä¸ºçˆ¶é•œåƒ")]),t._v("\nFROM python"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("slim"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("buster\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¾ç½®å·¥ä½œç›®å½•")]),t._v("\nWORKDIR "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å°†å½“å‰ç›®å½•å†…å®¹å¤åˆ¶åˆ°å®¹å™¨çš„ /app ç›®å½•ä¸‹")]),t._v("\nADD "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("app\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®‰è£… flask")]),t._v("\nRUN pip install flask\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿è¡Œ app.py æ—¶ï¼ŒFlask æœåŠ¡å°†ä¼šå¯åŠ¨")]),t._v("\nCMD "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"python"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app.py"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" flask "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Flask"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" request\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" base64\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n\napp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Flask"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__name__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nreq_token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environ"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TOKEN'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'brown'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("download_file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'token'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" req_token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¦‚æœç”¨æˆ·ä¼ å…¥çš„tokenå€¼ä¸è¦æ±‚çš„ä¸€è‡´")]),t._v("\n        path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dingyue'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            file_content "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            base64_content "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" base64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b64encode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file_content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" base64_content\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Invalid token"')]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0.0.0.0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10015")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"ğŸ¤ åè®°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¤ åè®°"}},[t._v("#")]),t._v(" ğŸ¤ åè®°")]),t._v(" "),a("p",[t._v("å¦‚æœä½ è§‰å¾—è¿™æ ·æ·»åŠ èŠ‚ç‚¹ä¸æ–¹ä¾¿ï¼Œä½ å¯ä»¥è¯•è¯•alistè¿™ä¸ªå¼ºå¤§çš„åœ¨çº¿æ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œåœ¨é‡Œé¢ä½ å¯ä»¥ç›´æ¥åœ¨çº¿ç¼–è¾‘txtæ–‡ä»¶ï¼Œä½ ä¹Ÿå¯ä»¥å‚è€ƒè¿™ä¸ªï¼š"),a("a",{attrs:{href:"https://www.yunieebk.com/2023/08/22/%E9%97%B2%E7%BD%AEvps%E5%88%A9%E7%94%A8%E8%AE%A1%E5%88%92-%E5%88%A9%E7%94%A8docker-compose%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAqqflac%E9%9F%B3%E4%B9%90%E4%B8%8B%E8%BD%BD%E5%99%A8/#%F0%9F%91%BB%E4%B8%8B%E8%BD%BDalist%E6%9D%A5%E8%AE%BF%E9%97%AE%E8%87%AA%E5%B7%B1%E4%B8%8B%E8%BD%BD%E7%9A%84%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸‹è½½Alistæ¥è®¿é—®è‡ªå·±ä¸‹è½½çš„æœ¬åœ°æ–‡ä»¶"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("ä½¿ç”¨è¿™ä¸ªç¡®å®æ¯”æ­å»ºä¸€ä¸ªé¢æ¿ç®€å•å¤šäº†ï¼Œå¹¶ä¸”ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œå¹¶ä¸”å ç”¨èµ„æºä¹Ÿå¾ˆå°‘ã€‚\n"),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-5818850638223663","data-ad-slot":"1327307385"}})],1)],1)}),[],!1,null,null,null);s.default=e.exports}}]);